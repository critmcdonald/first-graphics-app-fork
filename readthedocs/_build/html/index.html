

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>First Graphics App &mdash; First Graphics App  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> First Graphics App
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">First Graphics App</a><ul>
<li><a class="reference internal" href="#what-you-will-make">What you will make</a></li>
<li><a class="reference internal" href="#about-the-authors">About the authors</a></li>
<li><a class="reference internal" href="#prelude-prerequisites">Prelude: Prerequisites</a></li>
<li><a class="reference internal" href="#chapter-1-hello-git">Chapter 1: Hello Git</a></li>
<li><a class="reference internal" href="#chapter-2-hello-framework">Chapter 2: Hello framework</a></li>
<li><a class="reference internal" href="#chapter-3-hello-template">Chapter 3: Hello template</a></li>
<li><a class="reference internal" href="#chapter-4-hello-data">Chapter 4: Hello data</a></li>
<li><a class="reference internal" href="#chapter-5-hello-cards">Chapter 5: Hello cards</a></li>
<li><a class="reference internal" href="#chapter-6-hello-charts">Chapter 6: Hello charts</a></li>
<li><a class="reference internal" href="#chapter-7-hello-map">Chapter 7: Hello map</a></li>
<li><a class="reference internal" href="#chapter-8-hello-internet">Chapter 8: Hello Internet</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">First Graphics App</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>First Graphics App</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="first-graphics-app">
<h1>First Graphics App<a class="headerlink" href="#first-graphics-app" title="Permalink to this headline">¶</a></h1>
<p>A step-by-step guide to publishing a standalone story from a dataset.</p>
<p>This tutorial will show you how journalists at America’s top news organizations escape rigid content-management systems to publish custom interactive graphics on deadline. You will get hands-on experience in every stage of the development process, writing JavaScript, HTML and CSS within a Node.js framework. You won’t stop until you’ve deployed a working application on the World Wide Web.</p>
<div class="section" id="what-you-will-make">
<h2>What you will make<a class="headerlink" href="#what-you-will-make" title="Permalink to this headline">¶</a></h2>
<p>By the end of this lesson, you will publish a standalone page with a series of graphics examining the high homicide rate in Harvard Park, a small neighborhood in South Los Angeles. You will do so by repurposing data from <a class="reference external" href="http://www.latimes.com/projects/la-me-harvard-park-homicides/">a 2017 Los Angeles Times story</a> by Nicole Santa Cruz and Cindy Chang.</p>
<p>A working example of what you will make can be found at <a class="reference external" href="https://ireapps.github.io/first-graphics-app/">ireapps.github.io/first-graphics-app/</a></p>
<a class="reference external image-reference" href="https://ireapps.github.io/first-graphics-app/"><img alt="_images/preview.gif" src="_images/preview.gif" style="width: 100%;" /></a>
</div>
<div class="section" id="about-the-authors">
<h2>About the authors<a class="headerlink" href="#about-the-authors" title="Permalink to this headline">¶</a></h2>
<p>This guide was prepared for training sessions of <a class="reference external" href="http://www.ire.org/">Investigative Reporters and Editors (IRE)</a>
and the <a class="reference external" href="http://data.nicar.org/">National Institute for Computer-Assisted Reporting (NICAR)</a>
by <a class="reference external" href="http://damihere.com">Dana Amihere</a>, <a class="reference external" href="http://emamd.net">Armand Emamdjomeh</a> and <a class="reference external" href="http://palewi.re/who-is-ben-welsh/">Ben Welsh</a>. It debuted in March 2018 <a class="reference external" href="https://www.ire.org/events-and-training/event/3189/3508/">at NICAR’s conference
in Chicago</a>.</p>
<p>Their work was inspired by the footloose spirit of funk music. We urge you to bust free of the computer systems that constrain your creativity. Hit play and get into the groove.</p>
<iframe src="https://open.spotify.com/embed?uri=spotify:user:227b2koy2xxyb23qliakea75y:playlist:54NS8jCdrgUpzUppUpokSg&theme=white" width="300" height="380" frameborder="0" allowtransparency="true" style="margin: 20px 0;"></iframe></div>
<div class="section" id="prelude-prerequisites">
<h2>Prelude: Prerequisites<a class="headerlink" href="#prelude-prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Before you can begin, your computer needs the following tools installed and working:</p>
<ol class="arabic simple">
<li>A <a class="reference external" href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interface</a> to interact with your computer</li>
<li>A <a class="reference external" href="https://en.wikipedia.org/wiki/Text_editor">text editor</a> to work with plain text files</li>
<li>Version 8.9.4 or greater of the <a class="reference external" href="https://nodejs.org/en/">Node.js</a> JavaScript runtime</li>
<li>The <a class="reference external" href="https://www.npmjs.com">npm</a> package manager</li>
<li><a class="reference external" href="http://git-scm.com/">Git</a> version control software and an account at <a class="reference external" href="http://www.github.com">GitHub.com</a></li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Stop and make sure you have all these tools installed and working properly. Otherwise, <a class="reference external" href="https://www.youtube.com/watch?v=ynxPshq8ERo">you’re gonna have a bad time</a>.</p>
</div>
<div class="section" id="command-line-prereq">
<span id="id1"></span><h3>Command-line interface<a class="headerlink" href="#command-line-prereq" title="Permalink to this headline">¶</a></h3>
<p>Unless something is wrong with your computer, there should be a way to open a window that lets you type in commands. Different operating systems give this tool slightly different names, but they all have some form of it.</p>
<p>On Windows you can find the command-line interface by opening the “command prompt.” Here are <a class="reference external" href="https://www.bleepingcomputer.com/tutorials/windows-command-prompt-introduction/">instructions</a>. On Apple computers, you open the <a class="reference external" href="http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line">“Terminal” application</a>. Ubuntu Linux comes with a program of the <a class="reference external" href="http://askubuntu.com/questions/38162/what-is-a-terminal-and-how-do-i-open-and-use-it">same name</a>.</p>
</div>
<div class="section" id="id2">
<h3>Text editor<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>A program like Microsoft Word, which can do all sorts of text formatting like change the size and color of words, is not what you need. Do not try to use it.</p>
<p>You need a program that works with simple <a class="reference external" href="https://en.wikipedia.org/wiki/Text_file">“plain text” files</a>, and is therefore capable of editing documents containing Python code, HTML markup and other languages without dressing them up by adding anything extra. Such programs are easy to find and some of the best ones are free, including those below.</p>
<p>For Windows, we recommend installing <a class="reference external" href="http://notepad-plus-plus.org/">Notepad++</a> or <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a>. For Apple computers, try <a class="reference external" href="https://atom.io">Atom</a> or <a class="reference external" href="https://www.sublimetext.com/">Sublime Text</a>. In Ubuntu Linux you can stick with the pre-installed <a class="reference external" href="https://help.ubuntu.com/community/gedit">gedit</a> text editor or install a more sophisticated tool like <a class="reference external" href="https://atom.io">Atom</a>.</p>
</div>
<div class="section" id="id4">
<h3>Node.js<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Node.js is an open-source programming framework built using JavaScript. Many programmers like it because it allows them to write JavaScript not just in their browser for “front-end” tasks, but also in the terminal or on a server for “back-end” tasks.</p>
<p>You should be on the latest long-term support (LTS) version of Node, which at the time of this writing was <code class="docutils literal notranslate"><span class="pre">8.9.4</span></code>. The <a class="reference external" href="https://nodejs.org">Node.js site</a> has <a class="reference external" href="https://nodejs.org/en/download/">installer packages</a> available for Windows and Mac OSX.</p>
<p>You can verify if you have Node installed, and if so what version, by typing the following into your terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ node --version
</pre></div>
</div>
<p>The number you get back is the version you have installed. If you get an error, you don’t have Node.js installed and you should start from scratch with an installer package. If you have a slightly older version, you are probably okay. But we make no guarantees. Consider upgrading.</p>
</div>
<div class="section" id="id5">
<h3>npm<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Installing Node will also install npm on your computer, which stands for “Node Package Manager.” During the class, we will use it to install open-source JavaScript packages that will help us draw charts and maps.</p>
<p>You can verify you have npm installed by running the following command on your terminal.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm --version
</pre></div>
</div>
</div>
<div class="section" id="git-and-github">
<h3>Git and GitHub<a class="headerlink" href="#git-and-github" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://git-scm.com/">Git</a> is a version control program for saving the changes you make to files over time. This is useful when you’re working on your own, but quickly becomes essential with large software projects when you work with other developers.</p>
<p><a class="reference external" href="https://github.com/">GitHub</a> is a website that hosts git code repositories, both public and private. It comes with many helpful tools for reviewing code and managing projects. It also has some <a class="reference external" href="http://pages.github.com/">extra tricks</a> that make it easy to publish web pages, which we will use later. GitHub offers helpful guides for installing Git for <a class="reference external" href="https://help.github.com/articles/set-up-git#platform-windows">Windows</a>, <a class="reference external" href="https://help.github.com/articles/set-up-git#platform-mac">Macs</a> and <a class="reference external" href="https://help.github.com/articles/set-up-git#platform-linux">Linux</a>.</p>
<p>You can verify Git is installed from your command line like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git --version
</pre></div>
</div>
<p>Once that’s done, you should create an account at GitHub, if you don’t already have one. <a class="reference external" href="https://github.com/pricing">The free plan</a> is all that’s required to complete this lesson. If you make a new account, make sure to confirm your email address with GitHub. We’ll need that for something later.</p>
</div>
</div>
<div class="section" id="chapter-1-hello-git">
<h2>Chapter 1: Hello Git<a class="headerlink" href="#chapter-1-hello-git" title="Permalink to this headline">¶</a></h2>
<p>First things first. It always helps to store all your code in the same place, instead of haphazard folders around your computer. This way, you always know where to look if you need to find a project.</p>
<p>In this case, let’s call that directory <code class="docutils literal notranslate"><span class="pre">Code</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># You don&#39;t have to type the &quot;$&quot; It&#39;s just a generic symbol</span>
<span class="c1"># geeks use to show they&#39;re working on the command line.</span>
$ mkdir Code
</pre></div>
</div>
<p>You can use the <cite>cd</cite> command to “change directory” into the directory we created.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># You don&#39;t have to type the &quot;$&quot; It&#39;s just a generic symbol</span>
<span class="c1"># geeks use to show they&#39;re working on the command line.</span>
$ <span class="nb">cd</span> Code
</pre></div>
</div>
<p>Then, create a new directory where we can store the code for the project we’re going to build today. Name it after our application.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir first-graphics-app
</pre></div>
</div>
<p>Now, use <code class="docutils literal notranslate"><span class="pre">cd</span></code> again to enter the the directory you just created.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> first-graphics-app
</pre></div>
</div>
<p>Use the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code> to create a new Git repository in the current directory. This will be the root of our version-controlled project.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># &quot;.&quot; is a common shortcut to refer to the current directory from the terminal</span>
$ git init .
</pre></div>
</div>
<p>Visit <a class="reference external" href="http://www.github.com">GitHub</a> and <a class="reference external" href="https://github.com/new">create</a> a new public repository named <code class="docutils literal notranslate"><span class="pre">first-graphics-app</span></code>. Don’t check “Initialize with README.” You’ll want to start with a blank repository.</p>
<a class="reference external image-reference" href="https://github.com/new"><img alt="_images/new-repo.png" src="_images/new-repo.png" style="width: 100%;" /></a>
<p>Then connect your local directory to GitHub with the following command. Replace <code class="docutils literal notranslate"><span class="pre">&lt;yourusername&gt;</span></code> with your GitHub user name.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git remote add origin https://github.com/&lt;yourusername&gt;/first-graphics-app.git
</pre></div>
</div>
<p>Create your first file, a blank <code class="docutils literal notranslate"><span class="pre">README</span></code> with a <a class="reference external" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> file extension since that’s <a class="reference external" href="https://help.github.com/articles/github-flavored-markdown">the preferred format of GitHub</a>. The filename will be <code class="docutils literal notranslate"><span class="pre">README.md</span></code>. Markdown is a simple way of writing nicely formatted text, complete with headlines, links and images.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Macs or Linux:</span>
$ touch README.md

<span class="c1"># On Windows, fire it up in your text editor right away:</span>
$ start notepad++ README.md
</pre></div>
</div>
<p>Open up the README in your text editor and type something in it. Maybe something like:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>My first graphics app
=====================
</pre></div>
</div>
<p>Make sure to save it. Then officially add the file to your repository for tracking with Git’s <code class="docutils literal notranslate"><span class="pre">add</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add README.md
</pre></div>
</div>
<p>Log its creation with Git’s <code class="docutils literal notranslate"><span class="pre">commit</span></code> command. You can include a personalized message after the <code class="docutils literal notranslate"><span class="pre">-m</span></code> flag. If you’re on a Windows machine, make sure you use double quotes around your commit message.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git commit -m <span class="s2">&quot;First commit&quot;</span>
</pre></div>
</div>
<p>If this is your first time using Git, you may be prompted to configure you name and email. If so, take the time now. Then run the <code class="docutils literal notranslate"><span class="pre">commit</span></code> command above again.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git config --global user.email <span class="s2">&quot;your@email.com&quot;</span>
$ git config --global user.name <span class="s2">&quot;your name&quot;</span>
</pre></div>
</div>
<p>Now, finally, push your commit up to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
<p>You just created your first code commit! Reload your repository on GitHub and see your handiwork.</p>
<a class="reference internal image-reference" href="_images/first-commit.png"><img alt="_images/first-commit.png" src="_images/first-commit.png" style="width: 100%;" /></a>
</div>
<div class="section" id="chapter-2-hello-framework">
<h2>Chapter 2: Hello framework<a class="headerlink" href="#chapter-2-hello-framework" title="Permalink to this headline">¶</a></h2>
<p>Now that we have our Git repository created, we’re going to start installing the tools we need to do our job.</p>
<p>The first and more important is a <a class="reference external" href="https://en.wikipedia.org/wiki/Software_framework">framework</a>. What’s that? Nothing more than fancy name for a set of software tools that, working together, can stand up a website. Believe it or not, it takes dozens of different things to pull a good site together. Frameworks aim to make the challenge easier by organizing a curated set of tools into a system that saves programmers time.</p>
<p>There are a lot of different frameworks out there. Maybe you’ve heard of some them, like <a class="reference external" href="https://www.djangoproject.com/">Django</a> for Python or <a class="reference external" href="http://rubyonrails.org">Rails</a> for Ruby.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>While some frameworks are more popular than others, each newsroom tends to go its own way with a custom system for publishing pages. The programming languages and the details vary, but the fundamentals are almost all the same. Some of them have even been released as open-source software. They include:</p>
<ul class="last simple">
<li>The Los Angeles Times Data Desk’s <a class="reference external" href="https://github.com/datadesk/django-bigbuild">bigbuild</a></li>
<li>The Dallas Morning News’ <a class="reference external" href="https://github.com/DallasMorningNews/generator-dmninteractives">generator-dmninteractives</a></li>
<li>The Seattle Times’ <a class="reference external" href="https://github.com/seattletimes/newsapp-template/">newsapp-template</a></li>
<li>The NPR Apps team’s <a class="reference external" href="https://github.com/nprapps/dailygraphics">dailygraphics</a></li>
<li>Politico’s <a class="reference external" href="https://github.com/The-Politico/generator-politico-graphics">generator-politico-graphics</a></li>
</ul>
</div>
<p>Node.js is so fancy it has more than plain old frameworks. It even includes a framework for create frameworks! It’s called <a class="reference external" href="http://yeoman.io">Yeoman</a>. It offers a “generator” system that makes it easier for publishers to tailor the framework to their site, without having to reinvent all the wheels themselves.</p>
<p>We’ll start by installing Yeoman using the Node Package Manager (<code class="docutils literal notranslate"><span class="pre">npm</span></code>), which can visit the Internet to download and install any of the thousands of open-source Node.js packages listed in its directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install -g yo
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-g</span></code> means that we’re installing the packages globally. You’ll be able to run these from any directory on your computer.</p>
<p>Next we’ll install <a class="reference external" href="https://gulpjs.com/">Gulp</a>, a helpful Node.js utility for running a framework on your computer as you develop a site. Again, we turn to npm.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install -g gulp
</pre></div>
</div>
<p>Finally, we use npm to install <a class="reference external" href="https://github.com/larsonjj/generator-yeogurt">yeogurt</a>, our project generator that yeoman will build. It includes dozens of customizations of the Yeoman system created by its author to help us build websites. It can’t do everything a full-featured newsroom framework might. But it can do a lot, and enough for us to achieve our goals for this class.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install -g generator-yeogurt
</pre></div>
</div>
<p>Create a new project using our yeogurt generator as the guide.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ yo yeogurt
</pre></div>
</div>
<p>After you run the command, you will be asked a series of questions. <em>Pay close attention</em> because you will need to choose the proper options to continue with our tutorial, and some of the correct selections are not the default choice.</p>
<a class="reference internal image-reference" href="_images/yo.png"><img alt="_images/yo.png" src="_images/yo.png" style="width: 100%;" /></a>
<ol class="arabic simple">
<li>Your project name should be the slug “first-graphics-app”</li>
<li>The HTML preprocessor you choose must be “Nunjucks.”</li>
<li>The JavaScript preprocessor your choose must be “ES6 (Using Babel)”</li>
<li>Styles must be written with “Sass”</li>
<li>The Sass syntax must be “Scss”</li>
</ol>
<p>Don’t sweat the rest. But make sure you get the above right.</p>
<p>Yeoman will then use the generator to create a complete project that’s ready for us to work in. Take a look at the folders its created in the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory. That’s the framework offering your a comfortable place to do your work. Let’s get in there set up shop.</p>
<p>First, fire up its test server to see what it has to offer out of the box.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gulp serve
</pre></div>
</div>
<p>Visit <a class="reference external" href="http://localhost:3000">localhost:3000</a> in your browser. There you can see the generic website offered as a starting point by our Yeoman generator.</p>
<a class="reference internal image-reference" href="_images/welcome.png"><img alt="_images/welcome.png" src="_images/welcome.png" style="width: 100%;" /></a>
<p>Congratulations, you’ve got your framework up and running. Let’s save our work and then we’ll be ready to start developing our own content.</p>
<p>Open a second terminal (this way you can keep your server running) and navigate to your code folder.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> Code
$ <span class="nb">cd</span> first-graphics-app
</pre></div>
</div>
<p>Commit our work.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Installed framework&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
</div>
<div class="section" id="chapter-3-hello-template">
<h2>Chapter 3: Hello template<a class="headerlink" href="#chapter-3-hello-template" title="Permalink to this headline">¶</a></h2>
<p>Navigate back to <a class="reference external" href="http://localhost:3000/">localhost:3000</a> in your browser. You should see the same default homepage as before.</p>
<a class="reference internal image-reference" href="_images/welcome.png"><img alt="_images/welcome.png" src="_images/welcome.png" style="width: 100%;" /></a>
<p>Its contents is configured in the <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> file found in the directory Yeoman created. It uses a templating language for JavaScript invented at Mozilla called <a class="reference external" href="https://mozilla.github.io/nunjucks/">Nunjucks</a>.</p>
<p>You can edit the page by changing what’s found inside of the <code class="docutils literal notranslate"><span class="pre">content</span></code> block. Make a change and save the file.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">&lt;p&gt;Hello World&lt;/p&gt;</span>
</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>You should see it immediately show up thanks to a <a class="reference external" href="https://browsersync.io">BrowserSync</a>, a popular feature of Gulp that automatically updates your test site after you make a change.</p>
<a class="reference internal image-reference" href="_images/hello-world.png"><img alt="_images/hello-world.png" src="_images/hello-world.png" style="width: 100%;" /></a>
<p>Look closely at the index file you and will notice that it doesn’t include code for much of what you can see on the live page. For instance, you won’t see the HTML of the navigation bar or the stylesheets that dicatate how the page looks.</p>
<p>That’s because that boilerplate has been moved back into a parent template “extended” by the index file with a line of Nunjucks code at the top of the page.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;_layouts/base.nunjucks&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>That “base” file, sometimes called the “layout,” can be inherited by other pages on your site to avoid duplication and share common code. One change to a parent file instantly ripples out to all pages the extend it. This approach to “template inheritance” is not just found in Nunjucks. It can be found in other templating systems, including Python ones like <a class="reference external" href="https://docs.djangoproject.com/en/1.7/topics/templates/">Django</a> and <a class="reference external" href="http://jinja.pocoo.org">Jinja</a>.</p>
<p>You can find the base layout packaged with our framework in the <code class="docutils literal notranslate"><span class="pre">_layouts/base.nunjucks</span></code> file. It includes a set of block tags, like <code class="docutils literal notranslate"><span class="pre">content</span></code>, that act as placeholders for use in templates that extend it.</p>
<p>Make a small change above the block and save the file.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="x">Above content</span>
</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>You should see the change on our site, with the new line appearing above the paragraph we added earlier to the index file.</p>
<a class="reference internal image-reference" href="_images/above-content.png"><img alt="_images/above-content.png" src="_images/above-content.png" style="width: 100%;" /></a>
<p>Most newsrooms that use a similar system have a own base template for all of their custom pages. Graphic artists and designers install and extend it as the first step in their work. They develop their custom page within its confines and largely accept the furniture it provides, like the site’s header and footer, fonts, common color schemes. This allows them to work more quickly because they do not have to bother with reinventing their site’s most common elements.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>While most newsrooms keep their base templates to themselves, a few have published them as open-source software. You can find them online, if you know where to look. They include:</p>
<ul class="last simple">
<li>The Los Angeles Times Data Desk’s <a class="reference external" href="http://cookbook.latimes.com">HTML Cookbook</a></li>
<li>The Texas Tribune News App team’s <a class="reference external" href="https://apps.texastribune.org/styles/">style guide</a></li>
<li>Politico’s <a class="reference external" href="https://github.com/The-Politico/politico-style">style guide</a></li>
</ul>
</div>
<p>For this class, we have developed a base template that will act as a proxy for a real newsroom’s base template. It is not as sophisticated or complete as a real-world example, but it will provide all of the basic elements we will need for this class.</p>
<p>You can find it in the code block below. Copy all of its contents and paste them into <code class="docutils literal notranslate"><span class="pre">_layouts/base.nunjucks</span></code>, replacing everything.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!doctype html&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="x">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
<span class="x">    &lt;title&gt;First Graphics App&lt;/title&gt;</span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css&quot;&gt;</span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;styles/main.css&quot;&gt;</span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://bl.ocks.org/palewire/raw/1035cd306a2f85b362b1a20ce315b8eb/base.css?rev=8&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">    &lt;nav&gt;</span>
<span class="x">        &lt;a href=&quot;http://first-graphics-app.readthedocs.org/&quot;&gt;</span>
<span class="x">            &lt;img src=&quot;https://bl.ocks.org/palewire/raw/1035cd306a2f85b362b1a20ce315b8eb/ire-logo.png&quot;&gt;</span>
<span class="x">        &lt;/a&gt;</span>
<span class="x">    &lt;/nav&gt;</span>
<span class="x">    &lt;header&gt;</span>
<span class="x">        &lt;h1&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">headline</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">&lt;/h1&gt;</span>
<span class="x">        &lt;div class=&quot;byline&quot;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">byline</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">        &lt;div class=&quot;pubdate&quot;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">pubdate</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/header&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">scripts</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;script src=&quot;scripts/main.js&quot;&gt;&lt;/script&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>As you can see, it includes all of the standard HTML tags, with our custom stylesheets and content blocks mixed in.</p>
<p>To see the effects, return to <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> and fill in a headline using the <code class="docutils literal notranslate"><span class="pre">headline</span></code> block introduced by our base template. Save the page and you should quickly see it appear on the page.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;_layouts/base.nunjucks&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="hll"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">headline</span> <span class="cp">%}</span><span class="x">My headline will go here</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/headline.png"><img alt="_images/headline.png" src="_images/headline.png" style="width: 100%;" /></a>
<p>Now fill in a byline.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;_layouts/base.nunjucks&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">headline</span> <span class="cp">%}</span><span class="x">My headline will go here</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">byline</span> <span class="cp">%}</span><span class="x">By me</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/byline.png"><img alt="_images/byline.png" src="_images/byline.png" style="width: 100%;" /></a>
<p>And let’s do the publication date too while we are at it.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;_layouts/base.nunjucks&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">headline</span> <span class="cp">%}</span><span class="x">My headline will go here</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">byline</span> <span class="cp">%}</span><span class="x">By me</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">pubdate</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll"><span class="x">    &lt;time datetime=&quot;2018-03-10&quot; pubdate&gt;Mar. 10, 2018&lt;/time&gt;</span>
</span><span class="hll"><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/pubdate.png"><img alt="_images/pubdate.png" src="_images/pubdate.png" style="width: 100%;" /></a>
<p>Congratulations, you’ve installed a base template and started in on creating your first custom page. Now is another good time to pause and commit our work.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
<span class="c1"># ☝️ A fun trick to add *all* of the pages you&#39;ve changed with one command. ☝️</span>
$ git commit -m <span class="s2">&quot;Started editing templates&quot;</span>
</pre></div>
</div>
<p>And, again, push it to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You’ll notice that the all of the sub folders in the <code class="docutils literal notranslate"><span class="pre">src/</span></code> directory of your project have underscores <code class="docutils literal notranslate"><span class="pre">_</span></code> in front of their name. This convention is used to note that these files are <strong>private</strong>, and won’t be deployed.</p>
<p class="last">Instead, Gulp processes the contents of these folders when it builds the project and serves the files from a <code class="docutils literal notranslate"><span class="pre">tmp/</span></code> folder, where you’ll see unprefixed <code class="docutils literal notranslate"><span class="pre">images/</span></code>, <code class="docutils literal notranslate"><span class="pre">scripts/</span></code> and <code class="docutils literal notranslate"><span class="pre">styles/</span></code> directories.</p>
</div>
</div>
<div class="section" id="chapter-4-hello-data">
<h2>Chapter 4: Hello data<a class="headerlink" href="#chapter-4-hello-data" title="Permalink to this headline">¶</a></h2>
<p>We’ve got our page all set up. Now it’s time to start telling our story. To do that, we need our data.</p>
<p>If we were writing this application entirely in the browser with traditional JavaScript we’d have to pull it in with dynamic “AJAX” calls that retrieve data over the web as the page is constructed. But since we’re working with a Node.js system, running code here the backend, we can import our data directly into the template instead and lay it out before the page is rendered in the browser. This results in a faster experience for our users, and opens up new ways for us to be creative with our data.</p>
<p>Every newsroom’s system will handle this differently. Our Yeoman generator is preconfigured to open all JSON data files in the <code class="docutils literal notranslate"><span class="pre">_data</span></code> and import them into our nunjucks templates.</p>
<p>Let’s give it a try. Grab the <a class="reference external" href="https://raw.githubusercontent.com/ireapps/first-graphics-app/master/src/_data/harvard_park_homicides.json">list of Harvard Park homicides</a> published by the Los Angeles Times and save it to <code class="docutils literal notranslate"><span class="pre">_data/harvard_park_homicides.json</span></code>. It includes every homicide victim in the neighborhood since 2000 in the <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">JSON data format</a> favored by JavaScript.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
      <span class="s2">&quot;case_number&quot;</span><span class="o">:</span><span class="s2">&quot;2017-04514&quot;</span><span class="p">,</span>
      <span class="s2">&quot;slug&quot;</span><span class="o">:</span><span class="s2">&quot;eddie-rosendo-lino&quot;</span><span class="p">,</span>
      <span class="s2">&quot;first_name&quot;</span><span class="o">:</span><span class="s2">&quot;Eddie&quot;</span><span class="p">,</span>
      <span class="s2">&quot;middle_name&quot;</span><span class="o">:</span><span class="s2">&quot;Rosendo&quot;</span><span class="p">,</span>
      <span class="s2">&quot;last_name&quot;</span><span class="o">:</span><span class="s2">&quot;Lino&quot;</span><span class="p">,</span>
      <span class="s2">&quot;death_date&quot;</span><span class="o">:</span><span class="s2">&quot;2017-06-18T00:00:00.000Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;death_year&quot;</span><span class="o">:</span><span class="mi">2017</span><span class="p">,</span>
      <span class="s2">&quot;age&quot;</span><span class="o">:</span><span class="mf">23.0</span><span class="p">,</span>
      <span class="s2">&quot;race&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
      <span class="s2">&quot;gender&quot;</span><span class="o">:</span><span class="s2">&quot;male&quot;</span><span class="p">,</span>
      <span class="s2">&quot;image&quot;</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;longitude&quot;</span><span class="o">:-</span><span class="mf">118.304107484</span><span class="p">,</span>
      <span class="s2">&quot;latitude&quot;</span><span class="o">:</span><span class="mf">33.9904336958</span>
   <span class="p">},</span>
   <span class="p">{</span>
      <span class="s2">&quot;case_number&quot;</span><span class="o">:</span><span class="s2">&quot;2017-03454&quot;</span><span class="p">,</span>
      <span class="s2">&quot;slug&quot;</span><span class="o">:</span><span class="s2">&quot;alex-david-lomeli&quot;</span><span class="p">,</span>
      <span class="s2">&quot;first_name&quot;</span><span class="o">:</span><span class="s2">&quot;Alex&quot;</span><span class="p">,</span>
      <span class="s2">&quot;middle_name&quot;</span><span class="o">:</span><span class="s2">&quot;David&quot;</span><span class="p">,</span>
      <span class="s2">&quot;last_name&quot;</span><span class="o">:</span><span class="s2">&quot;Lomeli&quot;</span><span class="p">,</span>
      <span class="s2">&quot;death_date&quot;</span><span class="o">:</span><span class="s2">&quot;2017-05-07T00:00:00.000Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;death_year&quot;</span><span class="o">:</span><span class="mi">2017</span><span class="p">,</span>
      <span class="s2">&quot;age&quot;</span><span class="o">:</span><span class="mf">18.0</span><span class="p">,</span>
      <span class="s2">&quot;race&quot;</span><span class="o">:</span><span class="s2">&quot;latino&quot;</span><span class="p">,</span>
      <span class="s2">&quot;gender&quot;</span><span class="o">:</span><span class="s2">&quot;male&quot;</span><span class="p">,</span>
      <span class="s2">&quot;image&quot;</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;longitude&quot;</span><span class="o">:-</span><span class="mf">118.300290584</span><span class="p">,</span>
      <span class="s2">&quot;latitude&quot;</span><span class="o">:</span><span class="mf">33.9793646958</span>
   <span class="p">},</span>
   <span class="p">...</span>
</pre></div>
</div>
<p>Return to <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> and add the following to the bottom to print the data out on the page. We can do that using the <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">}}</span></code> print tags provided by nunjucks.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Here’s what you should see.</p>
<a class="reference internal image-reference" href="_images/data-dump.png"><img alt="_images/data-dump.png" src="_images/data-dump.png" style="width: 100%;" /></a>
<p>Loop through them and print them all. We’ll use the <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">%}</span></code> template tags provided by nunjucks that let you use common computer programming logic when you’re laying out a page.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll"><span class="x">    </span><span class="cp">{{</span> <span class="nv">obj</span> <span class="cp">}}</span><span class="x"></span>
</span><span class="hll"><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/data-dump.png"><img alt="_images/data-dump.png" src="_images/data-dump.png" style="width: 100%;" /></a>
<p>Add a line break with a <code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code> tag. That’s just boring old HTML. Writing pages with a templating language like nunjucks is typically nothing more than mixing traditional HTML with the programming and print tags that negotiate your data files and other settings variables.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">    </span><span class="cp">{{</span> <span class="nv">obj</span> <span class="cp">}}</span><span class="x">&lt;br&gt;</span>
</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/hello-loop.png"><img alt="_images/hello-loop.png" src="_images/hello-loop.png" style="width: 100%;" /></a>
<p>All of the fields found in the JSON dictionary for each homicide are available by adding a <code class="docutils literal notranslate"><span class="pre">.</span></code> after the object. Try it by printing the last name.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">    </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;br&gt;</span>
</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/hello-last-name.png"><img alt="_images/hello-last-name.png" src="_images/hello-last-name.png" style="width: 100%;" /></a>
<p>Add the first name. To have them display more nicely, you can also add a line break in between each one.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">    </span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;br&gt;</span>
</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/hello-full-name.png"><img alt="_images/hello-full-name.png" src="_images/hello-full-name.png" style="width: 100%;" /></a>
<p>Commit our work.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Printed a list of names from data&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
</div>
<div class="section" id="chapter-5-hello-cards">
<h2>Chapter 5: Hello cards<a class="headerlink" href="#chapter-5-hello-cards" title="Permalink to this headline">¶</a></h2>
<p>Bootstrap is an HTML, CSS and JavaScript toolkit that you can use to create the cosmetic “front-end” of web applications. Bootstrap is made up of different pre-made, ready-to-use pieces called components. Think of Bootstrap as building blocks you can mix and match to help jumpstart a project. Its components can be used as-is or as a base to be customized by the developer.</p>
<p>The components library includes things that you might include in a project, like buttons, modals and dropdowns.</p>
<a class="reference internal image-reference" href="_images/bootstrap.png"><img alt="_images/bootstrap.png" src="_images/bootstrap.png" style="width: 100%;" /></a>
<p>We’re going to create a photo grid of the Harvard Park homicide victims’ pictures. Each grid block will have a picture and some basic information about the victim. We’re going to use the Bootstrap 4 “cards” component accomplish this. Cards are self-contained boxes of information which can be arranged and grouped on a page any way you want.</p>
<a class="reference internal image-reference" href="_images/bootstrap-cols.png"><img alt="_images/bootstrap-cols.png" src="_images/bootstrap-cols.png" style="width: 100%;" /></a>
<p>First, need to set up our grid. To do that, we need to talk about divs, or the building blocks of HTML. The simplest way to think of a div is as container. Like any container, divs hold things. Divs can be nested inside of each other, like putting a box inside a box.</p>
<p>This is how Bootstrap cards work. Each card is a container which has additional containers inside it to hold, in this case, a picture, the victim’s name, age, race and when he/she was killed.</p>
<p>Now that we understand divs, we can build the base of our grid. For this, we’ll need a container div for each victim. We’ll add just the name of the first and last name of each victim first.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
</span><span class="hll"><span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
</span><span class="hll"><span class="x">        &lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;</span>
</span><span class="hll"><span class="x">      &lt;/div&gt;</span>
</span><span class="hll"><span class="x">    &lt;/div&gt;</span>
</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cards-first.png"><img alt="_images/cards-first.png" src="_images/cards-first.png" style="width: 100%;" /></a>
<p>Let’s add a sentence below the name we just printed to summarize who each victim was and when they died.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">        &lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;</span>
<span class="hll"><span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
</span><span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Let’s add each victim’s image to their card.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="hll"><span class="x">      &lt;img class=&quot;card-img-top&quot; src=&quot;</span><span class="cp">{{</span> <span class="nv">obj.image</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span>
</span><span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">        &lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;</span>
<span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
<span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/card-no-columns.png"><img alt="_images/card-no-columns.png" src="_images/card-no-columns.png" style="width: 100%;" /></a>
<p>What do we do if there is no image of the victim?  As soon as the code reaches a victim with no image, the code will break.</p>
<p>To fix this, let’s add an if clause around the image tag to check for an image in the data. This way, our code will loop through the list of victims and &lt;em&gt;if&lt;/em&gt; there is an image, it will add it to the right card. If there isn’t, the code will move on to the next victim until it reaches the end of the list.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="hll"><span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">obj.image</span> <span class="cp">%}</span><span class="x">&lt;img class=&quot;card-img-top&quot; src=&quot;</span><span class="cp">{{</span> <span class="nv">obj.image</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">        &lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;</span>
<span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
<span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>What we’ve got so far is a grid that doesn’t look much like a grid. Let’s give it some structure to make it neat and tidy. To do that, we’re going to arrange our grid of cards using Bootstrap’s card columns.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="x">&lt;div class=&quot;card-columns&quot;&gt;</span>
</span><span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">obj.image</span> <span class="cp">%}</span><span class="x">&lt;img class=&quot;card-img-top&quot; src=&quot;</span><span class="cp">{{</span> <span class="nv">obj.image</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">        &lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;</span>
<span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
<span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">&lt;/div&gt;</span>
</span></pre></div>
</div>
<p>We want to be able to click on each card and be redirected to that victim’s page in the Los Angeles Times’ Homicide Report? Let’s do it! While we’re at it, let’s add some <code class="docutils literal notranslate"><span class="pre">&lt;strong&gt;</span></code> tags to the victims’ names to make them stand out from the sentence about them.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;div class=&quot;card-columns&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">obj.image</span> <span class="cp">%}</span><span class="x">&lt;img class=&quot;card-img-top&quot; src=&quot;</span><span class="cp">{{</span> <span class="nv">obj.image</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="hll"><span class="x">        &lt;a href=&quot;http://homicide.latimes.com/post/</span><span class="cp">{{</span> <span class="nv">obj.slug</span> <span class="cp">}}</span><span class="x">&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;&lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;&lt;/strong&gt;&lt;/a&gt;</span>
</span><span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
<span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/card-slug.png"><img alt="_images/card-slug.png" src="_images/card-slug.png" style="width: 100%;" /></a>
<p>Let’s write a headline for our cards section.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="x">&lt;h3&gt;Lives lost&lt;/h3&gt;</span>
</span><span class="x">&lt;div class=&quot;card-columns&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">obj.image</span> <span class="cp">%}</span><span class="x">&lt;img class=&quot;card-img-top&quot; src=&quot;</span><span class="cp">{{</span> <span class="nv">obj.image</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;http://homicide.latimes.com/post/</span><span class="cp">{{</span> <span class="nv">obj.slug</span> <span class="cp">}}</span><span class="x">&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;&lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;&lt;/strong&gt;&lt;/a&gt;</span>
<span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
<span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/card-headline.png"><img alt="_images/card-headline.png" src="_images/card-headline.png" style="width: 100%;" /></a>
<p>And now, some summary text.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;h3&gt;Lives lost in Harvard Park&lt;/h3&gt;</span>
<span class="hll"><span class="x">&lt;p&gt;The </span><span class="cp">{{</span> <span class="nv">site.data.harvard_park_homicides</span><span class="o">|</span><span class="nf">length</span> <span class="cp">}}</span><span class="x"> homicides in Harvard Park since 2000 were primarily black and Latino males, but the list includes husbands, wives, fathers, mothers of all ages, and even some small children.&lt;/p&gt;</span>
</span><span class="x">&lt;div class=&quot;card-columns&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">site.data.harvard_park_homicides</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;card&quot;&gt;</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">obj.image</span> <span class="cp">%}</span><span class="x">&lt;img class=&quot;card-img-top&quot; src=&quot;</span><span class="cp">{{</span> <span class="nv">obj.image</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;div class=&quot;card-body&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;http://homicide.latimes.com/post/</span><span class="cp">{{</span> <span class="nv">obj.slug</span> <span class="cp">}}</span><span class="x">&quot; target=&quot;_blank&quot;&gt;&lt;strong&gt;&lt;h5 class=&quot;card-title&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.first_name</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;&lt;/strong&gt;&lt;/a&gt;</span>
<span class="x">        &lt;p class=&quot;card-text&quot;&gt;</span><span class="cp">{{</span> <span class="nv">obj.last_name</span> <span class="cp">}}</span><span class="x">, a </span><span class="cp">{{</span> <span class="nv">obj.age</span><span class="cp">}}</span><span class="x">-year-old </span><span class="cp">{{</span> <span class="nv">obj.race</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">obj.gender</span> <span class="cp">}}</span><span class="x">, died in </span><span class="cp">{{</span> <span class="nv">obj.death_year</span> <span class="cp">}}</span><span class="x">.&lt;/p&gt;</span>
<span class="x">      &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Let’s set up our card grid as it’s own section by adding <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> tags.</p>
<a class="reference internal image-reference" href="_images/card-full-section.png"><img alt="_images/card-full-section.png" src="_images/card-full-section.png" style="width: 100%;" /></a>
<p>Let’s commit our work for this section.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Created a victims card grid&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
</div>
<div class="section" id="chapter-6-hello-charts">
<h2>Chapter 6: Hello charts<a class="headerlink" href="#chapter-6-hello-charts" title="Permalink to this headline">¶</a></h2>
<p>We have data, but what does it look like?</p>
<p>To visualize our data, we’re going to use <a class="reference external" href="https://d3js.org/">D3.js</a> library, which has become the industry standard for data visualization. Since it is so flexible for data vizualization and mapping applications, D3 powers many of the news graphics made with JavaScript you see online.</p>
<p>First, use npm to install D3.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install -s d3
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-s</span></code> argument saves plotly to a dependencies file. That way, if you ever need to go through the install steps for your app again, you can do so easily by simply running <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span></code>.</p>
<p>From here, we’ll be working in our <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> folder. Create a file called <code class="docutils literal notranslate"><span class="pre">_charts.js</span></code> inside of <code class="docutils literal notranslate"><span class="pre">_scripts/</span></code>.</p>
<p>You can include the libraries we installed (or any JavaScript file!) by using <code class="docutils literal notranslate"><span class="pre">require()</span></code>. While with modern versions of D3 you can import specific parts of the library that are most relevant to your app, we’re just going to import the whole library for simplicity.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;d3&#39;</span><span class="p">);</span>

<span class="c1">// At the end of the _charts.js file</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;hello, this is my charts file!&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Remember our underscore coding convention? Here, <code class="docutils literal notranslate"><span class="pre">_charts.js</span></code> has an underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) in front of it because it will be compiled into <code class="docutils literal notranslate"><span class="pre">main.js</span></code> when the site is baked.</p>
<p>That is, if we tell it to. Use the same <code class="docutils literal notranslate"><span class="pre">require()</span></code> method to pull our code into <code class="docutils literal notranslate"><span class="pre">main.js</span></code>. Unlike <code class="docutils literal notranslate"><span class="pre">_charts.js</span></code>, <code class="docutils literal notranslate"><span class="pre">main.js</span></code> doesn’t have an underscore, because it is the file that the other scripts will be pulled into.</p>
<p>You don’t have to use this convention, but it’s handy as a visual marker of what files are dependent on others.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Main javascript entry point</span>
<span class="c1">// Should handle bootstrapping/starting application</span>

<span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">$</span> <span class="nx">from</span> <span class="s1">&#39;jquery&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">Link</span> <span class="nx">from</span> <span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">;</span>

<span class="nx">$</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">new</span> <span class="nx">Link</span><span class="p">();</span> <span class="c1">// Activate Link modules logic</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Welcome to Yeogurt!&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="hll"><span class="kd">var</span> <span class="nx">chart</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./_charts.js&#39;</span><span class="p">);</span>
</span></pre></div>
</div>
<p>Structuring our code this way helps keep things organized, as each file controls one specific part of the page. Need to make an adjustment to your chart? Go to <code class="docutils literal notranslate"><span class="pre">_charts.js</span></code>.</p>
<p>Now if you reload your page and go to your inspector (click on the three dots in the top right of Chrome, go down to “More tools” and select “Developer tools”), you should see <code class="docutils literal notranslate"><span class="pre">hello,</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">my</span> <span class="pre">charts</span> <span class="pre">file!</span></code> in the console.</p>
<a class="reference internal image-reference" href="_images/hello-charts.png"><img alt="_images/hello-charts.png" src="_images/hello-charts.png" style="width: 100%;" /></a>
<p>What chart should we make? The story points out that Harvard Park experienced an increase in homicides as there was a decrease across the rest of the county. Let’s try to visualize that.</p>
<p>First, we need somewhere for our charts to go. In our <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> file, inside of <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">content</span> <span class="pre">%}</span></code> where you want the chart to appear, create a <code class="docutils literal notranslate"><span class="pre">div</span></code> element with an id of <code class="docutils literal notranslate"><span class="pre">county-homicides</span></code>, and another with an id of <code class="docutils literal notranslate"><span class="pre">harvard-park-homicides</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &#39;_layouts/base.nunjucks&#39; %}

{% block headline %}My headline will go here{% endblock %}
{% block byline %}By me{% endblock %}
{% block pubdate %}
    <span class="p">&lt;</span><span class="nt">time</span> <span class="na">datetime</span><span class="o">=</span><span class="s">&quot;2018-03-10&quot;</span> <span class="na">pubdate</span><span class="p">&gt;</span>Mar. 10, 2018<span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;</span>
{% endblock %}

{% block content %}

<span class="hll"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;county-homicides&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;harvard-park-homicides&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span>
<span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Lives lost<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>The {{ site.data.harvard_park_homicides|length }} homicides in Harvard Park since 2000 were primarily black and Latino males, but the list includes husbands, wives, fathers, mothers of all ages, and even some small children.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

{% for obj in site.data.harvard_park_homicides %}
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card-columns&quot;</span><span class="p">&gt;</span>
    {% for obj in site.data.harvard_park_homicides %}
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
      {% if obj.image %}<span class="p">&lt;</span><span class="nt">img</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card-img-top&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ obj.image }}&quot;</span><span class="p">&gt;</span>{% endif %}
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card-body&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h5</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card-title&quot;</span><span class="p">&gt;</span>{{ obj.first_name }} {{ obj.last_name }}<span class="p">&lt;/</span><span class="nt">h5</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card-text&quot;</span><span class="p">&gt;</span>A {{ obj.age}}-year-old {{ obj.race }} {{ obj.gender }} died in {{ obj.death_year }}.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    {% endfor %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{% endfor %}

{% endblock %}
</pre></div>
</div>
<p>Meanwhile, we need data. Copy the <a class="reference external" href="https://raw.githubusercontent.com/ireapps/first-graphics-app/master/src/_data/annual_totals.json">annual totals data</a> to a new file, <code class="docutils literal notranslate"><span class="pre">_data/annual_totals.json</span></code>. This file contains annual homicide counts for Harvard Park and all of Los Angeles County. We can use nunjucks to include our data file directly in the template.</p>
<p>Add a <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">scripts</span> <span class="pre">%}</span></code> block to the end of your <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> file:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% block scripts %}
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kd">var</span> <span class="nx">annualTotals</span> <span class="o">=</span> <span class="p">{</span><span class="o">%</span> <span class="nx">include</span> <span class="s1">&#39;_data/annual_totals.json&#39;</span> <span class="o">%</span><span class="p">};</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endblock %}
</pre></div>
</div>
<p>We want to make two charts - one of county homicides and one of killings in Harvard Park. Let’s start with county homicides. D3 requires us to do a bit of house work before we get started. The first thing we need is a container for our chart to go in. We’ll be making these charts in an <code class="docutils literal notranslate"><span class="pre">&lt;svg&gt;</span></code> element, which stands for Scalable Vector Graphic.</p>
<p>The first thing we’ll want to do is select the HTML container of the chart with D3, and “append” an <code class="docutils literal notranslate"><span class="pre">svg</span></code> element to it.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;d3&#39;</span><span class="p">);</span>

<span class="hll"><span class="c1">// Make sure you use the # here!</span>
</span><span class="hll"><span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;#county-homicides&#39;</span><span class="p">);</span>
</span><span class="hll"><span class="kd">var</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
</span></pre></div>
</div>
<p>Now if you look in your inspector, you’ll see that we’ve appended an <code class="docutils literal notranslate"><span class="pre">&lt;svg&gt;</span></code> to the element with an ID of <code class="docutils literal notranslate"><span class="pre">county-homicides</span></code>. However, we also need to specify a height and width for the SVG, otherwise it will always just have default dimensions of 300x150, no matter how large our screen or device is.</p>
<p>Let’s use <code class="docutils literal notranslate"><span class="pre">.node()</span></code> to access the HTML element and save the width and height of the container to variables. I like to specify the height as a percentage of the width, to get an aspect ratio.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;d3&#39;</span><span class="p">);</span>

<span class="c1">// Make sure you use the # here!</span>
<span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;#county-homicides&#39;</span><span class="p">);</span>
<span class="hll"><span class="kd">var</span> <span class="nx">containerWidth</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">node</span><span class="p">().</span><span class="nx">offsetWidth</span><span class="p">;</span>
</span><span class="hll"><span class="kd">var</span> <span class="nx">containerHeight</span> <span class="o">=</span> <span class="nx">containerWidth</span> <span class="o">*</span> <span class="mf">0.66</span><span class="p">;</span>
</span>
<span class="kd">var</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can use them to set the properties, or “attributes” of the SVG using D3’s <code class="docutils literal notranslate"><span class="pre">.attr()</span></code> method. Notice that we can “chain” methods on a selection in D3, which allows our code to be a little more concise.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;d3&#39;</span><span class="p">);</span>

<span class="c1">// Make sure you use the # here!</span>
<span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;#county-homicides&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">containerWidth</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">node</span><span class="p">().</span><span class="nx">offsetWidth</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">containerHeight</span> <span class="o">=</span> <span class="nx">containerWidth</span> <span class="o">*</span> <span class="mf">0.66</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
<span class="hll">            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nx">containerWidth</span><span class="p">)</span>
</span><span class="hll">            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nx">containerHeight</span><span class="p">)</span>
</span></pre></div>
</div>
<p>Now if you look, your SVG should be rendered at the appropriate height and width, filling the available space.</p>
<p>[PICTURE OF EMPTY SVG]</p>
<p>Two more setup steps before we actually start making our charts. First, if we simply start drawing data onto the SVG, we’ll likely see areas where the data clips off the chart. We can avoid this by defining a pre-set margin we’ll use throughout the process.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;d3&#39;</span><span class="p">);</span>

<span class="hll"><span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="p">{</span><span class="nx">top</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nx">right</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span> <span class="nx">bottom</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span> <span class="nx">left</span><span class="o">:</span><span class="mi">40</span><span class="p">}</span> <span class="p">;</span>
</span><span class="c1">// Make sure you use the # here!</span>
<span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;#county-homicides&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">containerWidth</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">node</span><span class="p">().</span><span class="nx">offsetWidth</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">containerHeight</span> <span class="o">=</span> <span class="nx">containerWidth</span> <span class="o">*</span> <span class="mf">0.66</span><span class="p">;</span>
<span class="hll"><span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">containerWidth</span> <span class="o">-</span> <span class="nx">margin</span><span class="p">.</span><span class="nx">right</span> <span class="o">-</span> <span class="nx">margin</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span>
</span><span class="hll"><span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">containerHeight</span> <span class="o">-</span> <span class="nx">margin</span><span class="p">.</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">margin</span><span class="p">.</span><span class="nx">bottom</span><span class="p">;</span>
</span>
<span class="kd">var</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nx">containerWidth</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nx">containerHeight</span><span class="p">)</span>
</pre></div>
</div>
<p>Second, we should add a <code class="docutils literal notranslate"><span class="pre">&lt;g&gt;</span></code>, or “group” tag, where everything else in our chart will go. Add this to the end of your <code class="docutils literal notranslate"><span class="pre">svg</span></code> declaration. We’ll also want to give it a <code class="docutils literal notranslate"><span class="pre">transform</span></code> attribute that shifts it slightly according to the margins we set.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// ... more code is up here</span>
<span class="kd">var</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>
<span class="hll">        <span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
</span><span class="hll">            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;transform&#39;</span><span class="p">,</span> <span class="sb">`translate(</span><span class="si">${</span><span class="nx">margin</span><span class="p">.</span><span class="nx">left</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">margin</span><span class="p">.</span><span class="nx">top</span><span class="si">}</span><span class="sb">)`</span><span class="p">)</span>
</span></pre></div>
</div>
<p>At this point, we’re ready to start drawing our chart. Let’s start with by creating the “scales” for our data. D3 manages its data by mapping input values from the data, also known as the domain, into output values on the screen, or the range. This creates a scale that transforms the input into the output.</p>
<p>D3 has many different types of scales, for linear, categorical and time-based data. In this case, we’ll want a linear scale for the Y axis, and a “band” scale, which is a type of categorical scale useful for bar charts, for the X axis.</p>
<p>I like to calculate the input, or domain, before creating the axes. The domain takes the form of an array with the minimum and maximum value that you want to map: e.g., <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">100]</span></code> if you’re looking at a 100-point grade scale. We can use D3’s <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> helper functions to find this.</p>
<p>If you look at the data in <code class="docutils literal notranslate"><span class="pre">src/_data/annual_totals.json</span></code>, you’ll see that each year’s data is organized like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;year&quot;</span><span class="o">:</span><span class="mi">2000</span><span class="p">,</span>
  <span class="s2">&quot;homicides_total&quot;</span><span class="o">:</span><span class="mi">1036</span><span class="p">,</span>
  <span class="s2">&quot;homicides_harvard_park&quot;</span><span class="o">:</span><span class="mi">3</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since we’re charting homicides for the entire county we want the <code class="docutils literal notranslate"><span class="pre">homicides_total</span></code> attribute in our data for the Y axis, and the X axis will be the year. The arrow <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code> is a shorthand method of accessing the <code class="docutils literal notranslate"><span class="pre">homicides_total</span></code> attribute of each object in the annualTotals array.</p>
<p>Note that for the X axis, all we want is an array of the years, e.g.:<code class="docutils literal notranslate"><span class="pre">[2000,</span> <span class="pre">2001,</span> <span class="pre">...]</span></code> so we can call <code class="docutils literal notranslate"><span class="pre">.map()</span></code> on our data to return the year value. <code class="docutils literal notranslate"><span class="pre">.map()</span></code> iterates over every value in an array and returns a value for every item.</p>
<p>For the Y-axis, we want the domain to start at 0, so we can set that manually.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

    <span class="kd">var</span> <span class="nx">xDomain</span> <span class="o">=</span> <span class="nx">annualTotals</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">year</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">yDomain</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="nx">d3</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">annualTotals</span><span class="p">,</span> <span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">homicides_total</span><span class="p">)</span>
    <span class="p">];</span>
</pre></div>
</div>
<p>If you know the min and max values, you can also set these manually.</p>
<p>At the bottom of your file, let’s create an <code class="docutils literal notranslate"><span class="pre">xScale</span></code> and <code class="docutils literal notranslate"><span class="pre">yScale</span></code> now. Note that at this point we’re also setting the range, or output values, to the range between 0 and the height and width of our SVG.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

<span class="kd">var</span> <span class="nx">xScale</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleBand</span><span class="p">()</span>
              <span class="p">.</span><span class="nx">domain</span><span class="p">(</span><span class="nx">xDomain</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">range</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nx">width</span><span class="p">])</span>
              <span class="p">.</span><span class="nx">padding</span><span class="p">(</span><span class="mf">0.1</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">yScale</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">()</span>
              <span class="p">.</span><span class="nx">domain</span><span class="p">(</span><span class="nx">yDomain</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">range</span><span class="p">([</span><span class="nx">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span>
</pre></div>
</div>
<p>Note that the X scale has an additional method, <code class="docutils literal notranslate"><span class="pre">.padding()</span></code>, which specifies how far apart our bars are from one another.</p>
<p>Now that we have scales, we can create our axes. D3 has helper functions for each side of the chart we want our axes on, in this case the left for the Y-axis and bottom for the X-axis. We also assign one of the scales we just created to each axis.</p>
<p>For the Y-axis, we also want to add grid lines and limit the number of ticks that are shown.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

<span class="kd">var</span> <span class="nx">xAxis</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">axisBottom</span><span class="p">(</span><span class="nx">xScale</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">yAxis</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">axisLeft</span><span class="p">(</span><span class="nx">yScale</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">tickSize</span><span class="p">(</span><span class="o">-</span><span class="nx">width</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">ticks</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
<p>Finally, we append those to the chart by appending a <code class="docutils literal notranslate"><span class="pre">&lt;g&gt;</span></code> tag and “calling” the axis function we just created. I like to give each axis element a class of “axis” and “x” or “y”, depending on which axis we’re creating.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

<span class="nx">svg</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;x axis&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">xAxis</span><span class="p">);</span>

<span class="nx">svg</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;y axis&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">yAxis</span><span class="p">);</span>
</pre></div>
</div>
<p>[PHOTO OF CHART AXES WITH X AXIS AT TOP]</p>
<p>Well that doesn’t look quite right. The reason the X axis is displaying at the top of the chart is that in SVGs, the coordinate 0,0 is at the top left. So we need to shift, or <code class="docutils literal notranslate"><span class="pre">translate</span></code> the X axis down by the height of the chart. The Y axis is fine where it is.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

<span class="nx">svg</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;x axis&quot;</span><span class="p">)</span>
<span class="hll">    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="sb">`translate(0,</span><span class="si">${</span><span class="nx">height</span><span class="si">}</span><span class="sb">)`</span><span class="p">)</span>
</span>    <span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">xAxis</span><span class="p">);</span>
</pre></div>
</div>
<p>[PHOTO OF CORRECTED CHART AXES]</p>
<p>Now that the axes are there, we’re finally ready to draw our bars. D3 handles it’s data by binding the data to the SVG elements - hence the name: “Data Driven Documents.”</p>
<p>The format seems a little strange at first, because you’re selecting elements, then binding data to the selection, _then_ creating elements that are bound to the data. You do this by chaining two methods, <code class="docutils literal notranslate"><span class="pre">.data()</span></code>, which determines the data set that you’re binding, and <code class="docutils literal notranslate"><span class="pre">.enter()</span></code>, which iterates over the data set.</p>
<p>Since we’re making a bar chart, we’re going to create a <code class="docutils literal notranslate"><span class="pre">&lt;rect&gt;</span></code> element, and give it a class of <code class="docutils literal notranslate"><span class="pre">bar</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you’d like to know more about how D3 data binding works, Scott Murray has an <a href="#id11"><span class="problematic" id="id12">`excellent explanation and tutorial&lt;https://alignedleft.com/tutorials/d3/binding-data&gt;`_</span></a> on his website.</p>
</div>
<p>Let’s give it a try, by binding our <code class="docutils literal notranslate"><span class="pre">annualTotals</span></code> data to the bars on the chart. Start below the code for your axes. First, let’s simply append the <code class="docutils literal notranslate"><span class="pre">&lt;rect&gt;</span></code> elements to the chart</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

<span class="nx">svg</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">&#39;.bar&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">annualTotals</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">enter</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;rect&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>[PICTURE OF INSPECTOR SHOWING RECT ELEMENTS]</p>
<p>Now if you look at your chart… nothing has changed! But open your inspector and look at your SVG - you’ll see lots of <code class="docutils literal notranslate"><span class="pre">&lt;rect&gt;</span></code> elements, you just can’t see them because they don’t have any values for height and width, or x and y position values. Let’s do this next.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// The rest of your code is up here</span>

<span class="nx">svg</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">&#39;.bar&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">annualTotals</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">enter</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;rect&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">xScale</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">year</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">yScale</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">homicides_total</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">xScale</span><span class="p">.</span><span class="nx">bandWidth</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">height</span> <span class="o">-</span> <span class="nx">yScale</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">homicides_total</span><span class="p">))</span>
</pre></div>
</div>
<p>The X value will be determined by the year, and the Y by the <code class="docutils literal notranslate"><span class="pre">homicides_total</span></code> value of each object. The width of each bar is set by a method called <code class="docutils literal notranslate"><span class="pre">.bandwidth()</span></code> on our scale, and the height will be</p>
<p>[PICTURE OF CHARTS WITH BARS]</p>
<p>You have a bar chart! At this point we can step back and style out the chart, and leave room for a second chart that shows Harvard Park homicides.</p>
<p>At this point, create a new file in the <code class="docutils literal notranslate"><span class="pre">_styles</span></code> folder, and call it <code class="docutils literal notranslate"><span class="pre">_charts.scss</span></code>.</p>
<p>The first thing we need to do is make the chart smaller - right now it’s huge! Add the following CSS rule to <code class="docutils literal notranslate"><span class="pre">_charts.scss</span></code> which will allow the chart to display at roughly half width and leave room for a second chart.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">inline-chart</span> <span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">49</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">float</span><span class="p">:</span> <span class="kc">left</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you look at the page now, you’ll see that nothing has changed. That’s because we need to import the styles that we just created into our <code class="docutils literal notranslate"><span class="pre">main.scss</span></code> file.</p>
<p>You can do that by adding the following line to <code class="docutils literal notranslate"><span class="pre">main.scss</span></code>.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="nt">Normalize</span> <span class="nt">Styles</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/normalize.css/normalize&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="nt">Import</span> <span class="nt">Modules</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">;</span>
<span class="hll"><span class="p">@</span><span class="k">import</span> <span class="s1">&#39;./charts.scss&#39;</span><span class="p">;</span>
</span></pre></div>
</div>
<p>Let’s also color the bars and clean up some of the lines. If you remember, the bars were <code class="docutils literal notranslate"><span class="pre">&lt;rect&gt;</span></code> elements, and if you use the inspector, you can find the x axis lines we want to remove. Back in <code class="docutils literal notranslate"><span class="pre">_charts.scss</span></code>:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">rect</span> <span class="p">{</span>
  <span class="n">fill</span><span class="p">:</span> <span class="mh">#86C7DF</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">y</span> <span class="p">.</span><span class="nc">domain</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">x</span> <span class="p">.</span><span class="nc">domain</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">x</span> <span class="p">.</span><span class="nc">tick</span> <span class="nt">line</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The last thing we want to style is the grid lines - they’re too heavy and should fade into the background more. Note that we want to keep the baseline black to indicate that we’re starting at 0, so we’ll use a fancy CSS selector.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="nt">The</span> <span class="nt">rest</span> <span class="nt">of</span> <span class="nt">your</span> <span class="nt">styles</span> <span class="nt">are</span> <span class="nt">up</span> <span class="nt">here</span>
<span class="p">.</span><span class="nc">y</span> <span class="p">.</span><span class="nc">tick</span><span class="p">:</span><span class="nd">not</span><span class="o">(</span><span class="p">:</span><span class="nd">first-of-type</span><span class="o">)</span> <span class="nt">line</span> <span class="p">{</span>
  <span class="n">stroke</span><span class="p">:</span> <span class="mh">#e7e7e7</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Last, let’s add a headline to introduce our charts section.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>A South L.A. neighborhood stands apart<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;charts-holder clearfix&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline-chart&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;county-homicides&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline-chart&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;harvard-park-homicides&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/two-charts-title.png"><img alt="_images/two-charts-title.png" src="_images/two-charts-title.png" style="width: 100%;" /></a>
<p>And an introductory paragraph to say a little bit about what we’re looking at.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>A South L.A. neighborhood stands apart<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="hll"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Harvard Park&#39;s 2016 homicide total was its highest in at least 15 years despite a downward trend in killings across L.A. County.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;charts-holder clearfix&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline-chart&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;county-homicides&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline-chart&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;harvard-park-homicides&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/chart-intro-graf.png"><img alt="_images/chart-intro-graf.png" src="_images/chart-intro-graf.png" style="width: 100%;" /></a>
<p>Congratulations, you’ve made your charts! Let’s commit our changes and move on to our next challenge.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git commit -m <span class="s2">&quot;Made my first charts.&quot;</span>
$ git push origin master
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>We used D3.js in this class, but there are many other JavaScript charting libraries, each one slightly different. If you want to explore this on your own, here are some other options that generally abstract away the process we used in this class.</p>
<ul class="simple">
<li><a class="reference external" href="https://vega.github.io/vega-lite/">Vega-lite</a></li>
<li><a class="reference external" href="http://www.chartjs.org/">Charts.js</a></li>
<li><a class="reference external" href="http://c3js.org/">C3.js</a> Important to note that this does not seem to support the latest versions of D3.</li>
</ul>
<p>There are also tools that allow you to use a visual editor, creating charts and other visualizations that you can download and/or embed in your project.</p>
<ul class="last simple">
<li><a class="reference external" href="https://beta.observablehq.com">Observable</a> is a relatively new site that allows you to take a more exploratory approach to building your visualizations. Charts and maps update automatically as you update data or settings.</li>
<li><a class="reference external" href="https://quartz.github.io/Chartbuilder/">Chartbuilder</a> from <a class="reference external" href="https://qz.com/">Quartz</a>, is very good for basic, fast charts with light customization.</li>
<li><a class="reference external" href="https://www.datawrapper.de/">DataWrapper</a> allows a range of visualizations beyond basic charts, including scatter plots and maps.</li>
</ul>
</div>
</div>
<div class="section" id="chapter-7-hello-map">
<h2>Chapter 7: Hello map<a class="headerlink" href="#chapter-7-hello-map" title="Permalink to this headline">¶</a></h2>
<p>Next we’ll move on to creating a map focused on West 62nd Street and Harvard Boulevard, an intersection in South Los Angeles where four men died in less than a year and a half.</p>
<p>To draw the map we will rely on <a class="reference external" href="http://leafletjs.com">Leaflet</a>, a JavaScript library for creating interactive maps. We will install it just as before by using <code class="docutils literal notranslate"><span class="pre">npm</span></code> from our terminal.</p>
<div class="highlight-base notranslate"><div class="highlight"><pre><span></span>$ npm install -s leaflet
</pre></div>
</div>
<p>After it’s been installed, we should import Leaflet into <code class="docutils literal notranslate"><span class="pre">_scripts/main.js</span></code> so that its tools are available on our site.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Main javascript entry point</span>
<span class="c1">// Should handle bootstrapping/starting application</span>

<span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Link</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">new</span> <span class="nx">Link</span><span class="p">();</span> <span class="c1">// Activate Link modules logic</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Welcome to Yeogurt!&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">chart</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./charts.js&#39;</span><span class="p">);</span>
<span class="hll"><span class="kd">var</span> <span class="nx">L</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;leaflet&quot;</span><span class="p">);</span>
</span></pre></div>
</div>
<p>We’ll also need to add a little hack to the file so that Leaflet’s images will load. Don’t ask. It’s a long story.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Main javascript entry point</span>
<span class="c1">// Should handle bootstrapping/starting application</span>

<span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Link</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">new</span> <span class="nx">Link</span><span class="p">();</span> <span class="c1">// Activate Link modules logic</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Welcome to Yeogurt!&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">chart</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./charts.js&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">L</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;leaflet&quot;</span><span class="p">);</span>

<span class="hll"><span class="nx">L</span><span class="p">.</span><span class="nx">Icon</span><span class="p">.</span><span class="nx">Default</span><span class="p">.</span><span class="nx">imagePath</span> <span class="o">=</span> <span class="s1">&#39;https://unpkg.com/leaflet@1.4.0/dist/images/&#39;</span><span class="p">;</span>
</span></pre></div>
</div>
<p>Next we import Leaflet’s stylesheets in <code class="docutils literal notranslate"><span class="pre">_styles/main.scss</span></code> so that they are also included on our site.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="nt">Normalize</span> <span class="nt">Styles</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/normalize.css/normalize&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="nt">Import</span> <span class="nt">Modules</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">;</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;_charts.scss&#39;</span><span class="p">;</span>
<span class="hll"><span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/leaflet/dist/leaflet&#39;</span><span class="p">;</span>
</span></pre></div>
</div>
<p>Now, back in the <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> template, we should create a placeholder in the page template where the map will live.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>To bring the map to life, add a new file named <code class="docutils literal notranslate"><span class="pre">_map.js</span></code> to the <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> directory. Import it in <code class="docutils literal notranslate"><span class="pre">main.js</span></code>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Main javascript entry point</span>
<span class="c1">// Should handle bootstrapping/starting application</span>

<span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Link</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">new</span> <span class="nx">Link</span><span class="p">();</span> <span class="c1">// Activate Link modules logic</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Welcome to Yeogurt!&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">chart</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./charts.js&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">L</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;leaflet&quot;</span><span class="p">);</span>
<span class="hll"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./_map.js&quot;</span><span class="p">);</span>
</span>
<span class="nx">L</span><span class="p">.</span><span class="nx">Icon</span><span class="p">.</span><span class="nx">Default</span><span class="p">.</span><span class="nx">imagePath</span> <span class="o">=</span> <span class="s1">&#39;https://unpkg.com/leaflet@1.3.1/dist/images/&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Now in <code class="docutils literal notranslate"><span class="pre">_scripts/_map.js</span></code> paste in the following Leaflet code to generate a simple map. It does three things: create a new map in the HTML element we made with “map” set as its ID; add a new map layer with roads, borders, water and other features from OpenStreetMap; finally, add the layer to the map.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">);</span>
<span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>After you save, the index page should reload with a blank map.</p>
<a class="reference internal image-reference" href="_images/blank-map.png"><img alt="_images/blank-map.png" src="_images/blank-map.png" style="width: 100%;" /></a>
<p>To zero in on the area we’re reporting on, we will need its longitude and latitude coordinates. Go to Google Maps and find 62nd Street and Harvard Boulevard in South LA. Hold down a click until it gives you the coordinates in a popup box. Paste those numbers into Leaflet’s <code class="docutils literal notranslate"><span class="pre">setView</span></code> method with a zoom level of 15 included.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">);</span>
<span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="hll"><span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">([</span><span class="mf">33.983265</span><span class="p">,</span> <span class="o">-</span><span class="mf">118.306799</span><span class="p">],</span> <span class="mi">15</span><span class="p">);</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_static/first-map.png?v=2"><img alt="_static/first-map.png?v=2" src="_static/first-map.png?v=2" style="width: 100%;" /></a>
<p>After you save the file, your map should have relocated. Let’s tighten up that zoom and save again.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">);</span>
<span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="hll"><span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">([</span><span class="mf">33.983265</span><span class="p">,</span> <span class="o">-</span><span class="mf">118.306799</span><span class="p">],</span> <span class="mi">18</span><span class="p">);</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_static/corner-map.png?v=2"><img alt="_static/corner-map.png?v=2" src="_static/corner-map.png?v=2" style="width: 100%;" /></a>
<p>Now let’s load some data on the map. We will return to the list of all homicides already stored in <code class="docutils literal notranslate"><span class="pre">_data/harvard_park_homicides.json</span></code>.</p>
<p>Open <code class="docutils literal notranslate"><span class="pre">index.nunjucks</span></code> and add a new variable to the <code class="docutils literal notranslate"><span class="pre">scripts</span></code> block where the homicides list is stored.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">scripts</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;script&gt;</span>
<span class="x">var annualTotals = </span><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;_data/annual_totals.json&#39;</span> <span class="cp">%}</span><span class="x">;</span>
<span class="hll"><span class="x">var homicides = </span><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;_data/harvard_park_homicides.json&#39;</span> <span class="cp">%}</span><span class="x">;</span>
</span><span class="x">&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Now return to <code class="docutils literal notranslate"><span class="pre">_scripts/_map.js</span></code>. At the bottom add some JavaScript code that steps through the homicide list and adds each one to the map as a circle, just like the real Homicide Report.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">);</span>
<span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">([</span><span class="mf">33.983265</span><span class="p">,</span> <span class="o">-</span><span class="mf">118.306799</span><span class="p">],</span> <span class="mi">18</span><span class="p">);</span>

<span class="hll"><span class="nx">homicides</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="nx">L</span><span class="p">.</span><span class="nx">circleMarker</span><span class="p">([</span><span class="nx">obj</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">longitude</span><span class="p">])</span>
</span><span class="hll">      <span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</span><span class="hll"><span class="p">});</span>
</span></pre></div>
</div>
<p>Save the file and you should now see all the homicides mapped on the page.</p>
<a class="reference internal image-reference" href="_static/hello-circles.png?v=2"><img alt="_static/hello-circles.png?v=2" src="_static/hello-circles.png?v=2" style="width: 100%;" /></a>
<p>Next, extend the code in <code class="docutils literal notranslate"><span class="pre">_scripts/_map.js</span></code> to add a tooltip label on each point.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">homicides</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">L</span><span class="p">.</span><span class="nx">circleMarker</span><span class="p">([</span><span class="nx">obj</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">longitude</span><span class="p">])</span>
      <span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
<span class="hll">      <span class="p">.</span><span class="nx">bindTooltip</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">last_name</span><span class="p">);</span>
</span><span class="p">})</span>
</pre></div>
</div>
<p>Here’s what you should see after you do that.</p>
<a class="reference internal image-reference" href="_static/hello-tooltips.gif?v=2"><img alt="_static/hello-tooltips.gif?v=2" src="_static/hello-tooltips.gif?v=2" style="width: 100%;" /></a>
<p>Next let’s sprinkle some CSS in our page to make the circles match the orange color of the dots found on The Homicide Report. As we did with the charts, go to the <code class="docutils literal notranslate"><span class="pre">_styles</span></code> folder and create a new file. We’ll call this one <code class="docutils literal notranslate"><span class="pre">_map.scss</span></code>. In that file, copy or write the following:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">#</span><span class="nn">map</span> <span class="nt">path</span> <span class="p">{</span>
    <span class="n">fill</span><span class="p">:</span> <span class="mh">#e64d1f</span><span class="p">;</span>
    <span class="n">fill-opacity</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">;</span>
    <span class="n">stroke-opacity</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Just as before, that won’t change anything until you import our new file into the main stylesheet. Again, use <code class="docutils literal notranslate"><span class="pre">&#64;import</span></code> to introduce your CSS file into <code class="docutils literal notranslate"><span class="pre">main.css</span></code></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="nt">Normalize</span> <span class="nt">Styles</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/normalize.css/normalize&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="nt">Import</span> <span class="nt">Modules</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">;</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;_charts.scss&#39;</span><span class="p">;</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/leaflet/dist/leaflet&#39;</span><span class="p">;</span>
<span class="hll"><span class="p">@</span><span class="k">import</span> <span class="s1">&#39;_map.scss&#39;</span><span class="p">;</span>
</span></pre></div>
</div>
<p>After you save, here’s what you’ll get.</p>
<a class="reference internal image-reference" href="_static/orange-circles.png?v=2"><img alt="_static/orange-circles.png?v=2" src="_static/orange-circles.png?v=2" style="width: 100%;" /></a>
<p>To make the tooltips visible all the time, edit the JavaScript in <code class="docutils literal notranslate"><span class="pre">_scripts/_map.js</span></code> to make the tooltips “permanent.”</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">homicides</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">L</span><span class="p">.</span><span class="nx">circleMarker</span><span class="p">([</span><span class="nx">obj</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">longitude</span><span class="p">])</span>
      <span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
<span class="hll">      <span class="p">.</span><span class="nx">bindTooltip</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">last_name</span><span class="p">,</span> <span class="p">{</span><span class="nx">permanent</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
</span><span class="p">});</span>
</pre></div>
</div>
<p>Here they are.</p>
<a class="reference internal image-reference" href="_static/permanent-tooltips.png?v=2"><img alt="_static/permanent-tooltips.png?v=2" src="_static/permanent-tooltips.png?v=2" style="width: 100%;" /></a>
<p>Alright. We’ve got an okay map. But it’s zoomed in so close a reader might now know where it is. To combat this problem, graphic artists often inset a small map in the corner that shows the the area of focus from a greater distance.</p>
<p>Lucky for us, there’s already a Leaflet extension that provides this feature. It’s called <a class="reference external" href="https://github.com/Norkart/Leaflet-MiniMap">MiniMap</a>.</p>
<p>To put it to use, we’ll need to return to our friend <code class="docutils literal notranslate"><span class="pre">npm</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install -s leaflet-minimap
</pre></div>
</div>
<p>Just as with other libraries, we need to import it into <cite>_scripts/main.js</cite>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Main javascript entry point</span>
<span class="c1">// Should handle bootstrapping/starting application</span>

<span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Link</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">new</span> <span class="nx">Link</span><span class="p">();</span> <span class="c1">// Activate Link modules logic</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Welcome to Yeogurt!&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">chart</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./charts.js&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">L</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;leaflet&quot;</span><span class="p">);</span>
<span class="hll"><span class="kd">var</span> <span class="nx">MiniMap</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;leaflet-minimap&#39;</span><span class="p">);</span>
</span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./_map.js&quot;</span><span class="p">);</span>

<span class="nx">L</span><span class="p">.</span><span class="nx">Icon</span><span class="p">.</span><span class="nx">Default</span><span class="p">.</span><span class="nx">imagePath</span> <span class="o">=</span> <span class="s1">&#39;https://unpkg.com/leaflet@1.4.0/dist/images/&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Its stylesheets also need to be imported to <code class="docutils literal notranslate"><span class="pre">_styles/main.scss</span></code>.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="nt">Normalize</span> <span class="nt">Styles</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/normalize.css/normalize&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="nt">Import</span> <span class="nt">Modules</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;../_modules/link/link&#39;</span><span class="p">;</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;_charts.scss&#39;</span><span class="p">;</span>
<span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/leaflet/dist/leaflet&#39;</span><span class="p">;</span>
<span class="hll"><span class="p">@</span><span class="k">import</span> <span class="s1">&#39;node_modules/leaflet-minimap/src/Control.MiniMap&#39;</span><span class="p">;</span>
</span><span class="p">@</span><span class="k">import</span> <span class="s1">&#39;_map.scss&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Now that everything is installed, return to <code class="docutils literal notranslate"><span class="pre">scripts/_map.js</span></code> and create an inset map with the library’s custom tools. We can set its view with the <code class="docutils literal notranslate"><span class="pre">maxZoom</span></code> option.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">);</span>
<span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">([</span><span class="mf">33.983265</span><span class="p">,</span> <span class="o">-</span><span class="mf">118.306799</span><span class="p">],</span> <span class="mi">18</span><span class="p">);</span>

<span class="nx">homicides</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">L</span><span class="p">.</span><span class="nx">circleMarker</span><span class="p">([</span><span class="nx">obj</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">longitude</span><span class="p">])</span>
      <span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">bindTooltip</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">last_name</span><span class="p">,</span> <span class="p">{</span><span class="nx">permanent</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="p">})</span>

<span class="hll"><span class="kd">var</span> <span class="nx">sat2</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="hll">    <span class="nx">maxZoom</span><span class="o">:</span> <span class="mi">8</span>
</span><span class="hll"><span class="p">});</span>
</span><span class="hll"><span class="kd">var</span> <span class="nx">mini</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">MiniMap</span><span class="p">(</span><span class="nx">sat2</span><span class="p">);</span>
</span><span class="hll"><span class="nx">mini</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</span></pre></div>
</div>
<p>Save the file and the inset map should appear on your page.</p>
<a class="reference internal image-reference" href="_static/hello-minimap.png?v=2"><img alt="_static/hello-minimap.png?v=2" src="_static/hello-minimap.png?v=2" style="width: 100%;" /></a>
<p>Just for fun, let’s add a couple creature comforts to map. By default, the scroll wheel on your mouse will trigger zooms on the map. Some people (Armand!) have strong feelings about this. Let’s do them a favor and turn it off.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="hll">    <span class="nx">scrollWheelZoom</span><span class="o">:</span> <span class="kc">false</span>
</span><span class="hll"><span class="p">});</span>
</span><span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">);</span>
<span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">([</span><span class="mf">33.983265</span><span class="p">,</span> <span class="o">-</span><span class="mf">118.306799</span><span class="p">],</span> <span class="mi">18</span><span class="p">);</span>

<span class="nx">homicides</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">L</span><span class="p">.</span><span class="nx">circleMarker</span><span class="p">([</span><span class="nx">obj</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">longitude</span><span class="p">])</span>
      <span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">bindTooltip</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">last_name</span><span class="p">,</span> <span class="p">{</span><span class="nx">permanent</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="p">})</span>

<span class="kd">var</span> <span class="nx">sat2</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">maxZoom</span><span class="o">:</span> <span class="mi">8</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">mini</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">MiniMap</span><span class="p">(</span><span class="nx">sat2</span><span class="p">);</span>
<span class="nx">mini</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>While we’re at it, let’s also restrict the zoom level so it you can’t back too far away from LA.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">scrollWheelZoom</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">})</span>
<span class="hll"><span class="kd">var</span> <span class="nx">sat</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="hll">    <span class="nx">minZoom</span><span class="o">:</span> <span class="mi">9</span>
</span><span class="hll"><span class="p">});</span>
</span><span class="nx">sat</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">setView</span><span class="p">([</span><span class="mf">33.983265</span><span class="p">,</span> <span class="o">-</span><span class="mf">118.306799</span><span class="p">],</span> <span class="mi">18</span><span class="p">);</span>

<span class="nx">homicides</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">L</span><span class="p">.</span><span class="nx">circleMarker</span><span class="p">([</span><span class="nx">obj</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>  <span class="nx">obj</span><span class="p">.</span><span class="nx">longitude</span><span class="p">])</span>
      <span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">bindTooltip</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">last_name</span><span class="p">,</span> <span class="p">{</span><span class="nx">permanent</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="p">})</span>

<span class="kd">var</span> <span class="nx">sat2</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF0aW1lcyIsImEiOiJjanJmNjg4ZzYweGtvNDNxa2ZpZ2lma3Z4In0.g0lYVIEs9Y5QcUOhXactHA&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">maxZoom</span><span class="o">:</span> <span class="mi">8</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">mini</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">MiniMap</span><span class="p">(</span><span class="nx">sat2</span><span class="p">);</span>
<span class="nx">mini</span><span class="p">.</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Finally, let’s preface the map with so a headline.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>One corner. Four killings<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_static/map-hed.png?v=2"><img alt="_static/map-hed.png?v=2" src="_static/map-hed.png?v=2" style="width: 100%;" /></a>
<p>Then an introductory paragraph.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>One corner. Four killings<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="hll"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>The southwest corner of Harvard Park, at West 62nd Street and Harvard Boulevard, has been especially deadly. In the last year-and-a-half, four men have been killed there — while sitting in a car, trying to defuse an argument or walking home from the barber shop or the corner store.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_static/map-deck.png?v=2"><img alt="_static/map-deck.png?v=2" src="_static/map-deck.png?v=2" style="width: 100%;" /></a>
<p>All wrapped up in a <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> tag.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
</span>    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>One corner. Four killings<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>The southwest corner of Harvard Park, at West 62nd Street and Harvard Boulevard, has been especially deadly. In the last year-and-a-half, four men have been killed there — while sitting in a car, trying to defuse an argument or walking home from the barber shop or the corner store.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="hll"><span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_static/map-section.png?v=2"><img alt="_static/map-section.png?v=2" src="_static/map-section.png?v=2" style="width: 100%;" /></a>
<p>Congratulations. You’ve created a custom map. Before we get on to the business of sharing it with the world, we need a couple more pieces here.</p>
<p>Hey. How about a headline?</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &#39;_layouts/base.nunjucks&#39; %}

<span class="hll">{% block headline %}A South L.A. neighborhood grapples with a wave of violence{% endblock %}
</span>{% block byline %}By me{% endblock %}
{% block pubdate %}
    <span class="p">&lt;</span><span class="nt">time</span> <span class="na">datetime</span><span class="o">=</span><span class="s">&quot;2018-03-10&quot;</span> <span class="na">pubdate</span><span class="p">&gt;</span>Mar. 10, 2018<span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;</span>
{% endblock %}
</pre></div>
</div>
<a class="reference internal image-reference" href="_static/final-hed.png?v=2"><img alt="_static/final-hed.png?v=2" src="_static/final-hed.png?v=2" style="width: 100%;" /></a>
<p>And a real byline.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &#39;_layouts/base.nunjucks&#39; %}

{% block headline %}A South L.A. neighborhood grapples with a wave of violence{% endblock %}
<span class="hll">{% block byline %}By <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://www.firstgraphicsapp.org/&quot;</span><span class="p">&gt;</span>The First Graphics App Tutorial<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>{% endblock %}
</span>{% block pubdate %}
    <span class="p">&lt;</span><span class="nt">time</span> <span class="na">datetime</span><span class="o">=</span><span class="s">&quot;2018-03-10&quot;</span> <span class="na">pubdate</span><span class="p">&gt;</span>Mar. 10, 2018<span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;</span>
{% endblock %}
</pre></div>
</div>
<a class="reference internal image-reference" href="_static/final-byline.png?v=2"><img alt="_static/final-byline.png?v=2" src="_static/final-byline.png?v=2" style="width: 100%;" /></a>
<p>And let’s a write a lead.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% block content %}
<span class="hll"><span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>The area around Harvard Park was the deadliest place for African Americans in Los Angeles County last year, according to <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://homicide.latimes.com/&quot;</span><span class="p">&gt;</span>The Times’ Homicide Report<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>. So far this year, six people have been killed. Most of the victims were black men.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
</span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>One corner. Four killings<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>The southwest corner of Harvard Park, at West 62nd Street and Harvard Boulevard, has been especially deadly. In the last year-and-a-half, four men have been killed there — while sitting in a car, trying to defuse an argument or walking home from the barber shop or the corner store.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
...
{% endblock %}
</pre></div>
</div>
<a class="reference internal image-reference" href="_static/final-lead.png?v=2"><img alt="_static/final-lead.png?v=2" src="_static/final-lead.png?v=2" style="width: 100%;" /></a>
<p>Commit our work.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Added map, headline and chatter&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
<p>Now we’re ready. Let’s do it live.</p>
</div>
<div class="section" id="chapter-8-hello-internet">
<h2>Chapter 8: Hello Internet<a class="headerlink" href="#chapter-8-hello-internet" title="Permalink to this headline">¶</a></h2>
<p>In in our last chapter, all the work we’ve done will finally be published online.</p>
<p>Our Yeoman framework, with its tools, structure and shortcuts, has served us well. It’s been a great place to experiment, organize and develop our work. But it’s useless to our readers.</p>
<p>The HTML, JavaScript and CSS files the framework generates are all they need. Without all the code running our terminal, those files aren’t be able to take advantage of Yeogurt, Gulp, BrowserSync and all our other tricks. But it won’t matter. We can upload the simple files our framework renders to the web and they’ll be enough for anyone who wants them.</p>
<p>That process — converting a dynamic, living website to simple files living on the filesystem — is a common strategy for publishing news sites. It goes by different names, like “flattening,” “freezing” or “baking.”  Whatever you call it, it’s a solid path to cheap­, stable host­ing for simple sites. It is used across the industry for pub­lish­ing elec­tion res­ults, longform stories, spe­cial pro­jects and numerous other things.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Examples of static news pages in the wild include:</p>
<ul class="last simple">
<li><a class="reference external" href="https://www.washingtonpost.com/graphics/2017/ns/year-in-graphics/">A wide array of interactive graphics</a> by The Washington Post</li>
<li>Hundreds of Los Angeles Times stories at <a class="reference external" href="http://www.latimes.com/projects/">latimes.com/projects</a></li>
<li>Dozens more from The Seattle Times at <a class="reference external" href="https://projects.seattletimes.com">projects.seattletimes.com</a></li>
<li>Interactive apps by <a class="reference external" href="https://interactives.dallasnews.com/2018/secrets-dallas-dead/">The Dallas Morning News</a></li>
<li><a class="reference external" href="https://open.blogs.nytimes.com/2010/12/20/using-flat-files-so-elections-dont-break-your-server/">Live election results</a> published by The New York Times</li>
<li>Data downloads from the <a class="reference external" href="https://calaccess.californiacivicdata.org/downloads/latest/">California Civic Data Coalition</a></li>
</ul>
</div>
<p>Lucky for us, Yeogurt is pre-configured to flatten our dynamic site. And GitHub has a hosting service for publishing static pages. Here’s all it takes.</p>
<p>Next, open the <code class="docutils literal notranslate"><span class="pre">package.json</span></code> file at the root of the project. Scroll to the bottom. In the <code class="docutils literal notranslate"><span class="pre">config</span></code> section edit it to instruct Gulp to flatten files to the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;config&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="s2">&quot;//&quot;</span><span class="o">:</span> <span class="s2">&quot;Entry files&quot;</span><span class="p">,</span>
  <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;port&quot;</span><span class="o">:</span> <span class="s2">&quot;3000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;baseUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;./&quot;</span><span class="p">,</span>
  <span class="s2">&quot;directories&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;src&quot;</span><span class="p">,</span>
<span class="hll">    <span class="s2">&quot;destination&quot;</span><span class="o">:</span> <span class="s2">&quot;docs&quot;</span><span class="p">,</span>
</span>    <span class="s2">&quot;temporary&quot;</span><span class="o">:</span> <span class="s2">&quot;tmp&quot;</span><span class="p">,</span>
    <span class="s2">&quot;//&quot;</span><span class="o">:</span> <span class="s2">&quot;Directories relative to `source` directory&quot;</span><span class="p">,</span>
    <span class="s2">&quot;modules&quot;</span><span class="o">:</span> <span class="s2">&quot;_modules&quot;</span><span class="p">,</span>
    <span class="s2">&quot;layouts&quot;</span><span class="o">:</span> <span class="s2">&quot;_layouts&quot;</span><span class="p">,</span>
    <span class="s2">&quot;images&quot;</span><span class="o">:</span> <span class="s2">&quot;_images&quot;</span><span class="p">,</span>
    <span class="s2">&quot;styles&quot;</span><span class="o">:</span> <span class="s2">&quot;_styles&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scripts&quot;</span><span class="o">:</span> <span class="s2">&quot;_scripts&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="s2">&quot;_data&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Return to your terminal where the <code class="docutils literal notranslate"><span class="pre">serve</span></code> command is running. Hit <code class="docutils literal notranslate"><span class="pre">CTRL-C</span></code> or <code class="docutils literal notranslate"><span class="pre">CTRL-Z</span></code> to terminate its process.</p>
<p>Once you are back at the standard terminal, enter the following command to build a static version of your site. Rather than start up the local test server we’ve been using so far, it will instead save the site as flat files in <code class="docutils literal notranslate"><span class="pre">docs</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gulp --production
</pre></div>
</div>
<p>That saves the entire file to the <cite>docs</cite> folder. We’re doing that because it’s the folder expected by GitHub’s free publishing system, called “Pages.”</p>
<p>Commit and push to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Built site to docs folder&quot;</span>
$ git push origin master
</pre></div>
</div>
<p>To take advantage of it. Go to the repository on GitHub. Click on the “Settings” tab. Scroll down to the “GitHub Pages” section. Select “master branch /docs folder” as the source. Hit save.</p>
<p>This will result in any files pushed to the “docs” directory of your repository being published on the web. For free.</p>
<p>Wait a few moments and visit <a class="reference external" href="https://ireapps.github.io/first-graphics-app/">&lt;your_username&gt;.github.com/first-graphics-app/</a>. You should see your app published live on the World Wide Web.</p>
<a class="reference external image-reference" href="https://ireapps.github.io/first-graphics-app/"><img alt="_images/preview.gif" src="_images/preview.gif" style="width: 100%;" /></a>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If your page does not appear, make sure that you have verified your email address with GitHub. It is required before the site will allow publishing pages. And keep in mind there are many other options for publishing flat files, like <a class="reference external" href="https://en.wikipedia.org/wiki/Amazon_S3">Amazon’s S3 service</a>.</p>
</div>
<p>Congratulations. You’ve finished this class.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, IRE/NICAR

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>