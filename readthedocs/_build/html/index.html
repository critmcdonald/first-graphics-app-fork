

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>First Graphics App &mdash; First Graphics App  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="First Graphics App  documentation" href="#"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> First Graphics App
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">First Graphics App</a><ul>
<li><a class="reference internal" href="#what-you-will-make">What you will make</a></li>
<li><a class="reference internal" href="#about-the-authors">About the authors</a></li>
<li><a class="reference internal" href="#prelude-prerequisites">Prelude: Prerequisites</a></li>
<li><a class="reference internal" href="#chapter-1-hello-git">Chapter 1: Hello Git</a></li>
<li><a class="reference internal" href="#chapter-2-hello-framework">Chapter 2: Hello framework</a></li>
<li><a class="reference internal" href="#chapter-3-hello-template">Chapter 3: Hello template</a></li>
<li><a class="reference internal" href="#chapter-4-hello-data">Chapter 4: Hello data</a></li>
<li><a class="reference internal" href="#chapter-5-hello-table">Chapter 5: Hello table</a></li>
<li><a class="reference internal" href="#chapter-6-hello-chart">Chapter 6: Hello chart</a></li>
<li><a class="reference internal" href="#chapter-7-hello-map">Chapter 7: Hello map</a></li>
<li><a class="reference internal" href="#chapter-8-hello-internet">Chapter 8: Hello Internet</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">First Graphics App</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>First Graphics App</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="first-graphics-app">
<h1>First Graphics App<a class="headerlink" href="#first-graphics-app" title="Permalink to this headline">¶</a></h1>
<p>A step-by-step guide to publishing a standalone story from a dataset.</p>
<p>This tutorial will show you how journalists at America’s top news organizations escape rigid content-management systems to publish custom interactive graphics on deadline. You will get hands-on experience in every stage of the development process, writing JavaScript, HTML and CSS within a Node.js framework. You won’t stop until you’ve deployed a working application on the World Wide Web.</p>
<div class="section" id="what-you-will-make">
<h2>What you will make<a class="headerlink" href="#what-you-will-make" title="Permalink to this headline">¶</a></h2>
<p>By the end of this lesson, you will publish an standalone page with a series of graphics examining the high homicide rate in Harvard Park, a small neighborhood in South Los Angeles. You will do so by repurposing data from <a class="reference external" href="http://www.latimes.com/projects/la-me-harvard-park-homicides/">a 2017 Los Angeles Times story</a> by Nicole Santa Cruz and Cindy Chang.</p>
<p>A working example of what you will make can be found at <a class="reference external" href="https://ireapps.github.io/first-graphics-app/harvard-park-homicides/">ireapps.github.io/first-graphics-app/harvard-park-homicides</a></p>
</div>
<div class="section" id="about-the-authors">
<h2>About the authors<a class="headerlink" href="#about-the-authors" title="Permalink to this headline">¶</a></h2>
<p>This guide was prepared for training sessions of <a class="reference external" href="http://www.ire.org/">Investigative Reporters and Editors (IRE)</a>
and the <a class="reference external" href="http://data.nicar.org/">National Institute for Computer-Assisted Reporting (NICAR)</a>
by <a class="reference external" href="http://damihere.com">Dana Amihere</a>, <a class="reference external" href="http://emamd.net">Armand Emamdjomeh</a> and <a class="reference external" href="http://palewi.re/who-is-ben-welsh/">Ben Welsh</a>. It will debut in March 2017 <a class="reference external" href="https://www.ire.org/events-and-training/event/3189/3508/">at NICAR’s conference
in Chicago</a>.</p>
</div>
<div class="section" id="prelude-prerequisites">
<h2>Prelude: Prerequisites<a class="headerlink" href="#prelude-prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Before you can begin, your computer needs the following tools installed and working:</p>
<ol class="arabic simple">
<li>A <a class="reference external" href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interface</a> to interact with your computer</li>
<li>A <a class="reference external" href="https://en.wikipedia.org/wiki/Text_editor">text editor</a> to work with plain text files</li>
<li>Version x.x or greater of the <a class="reference external" href="https://nodejs.org/en/">Node.js</a> JavaScript runtime</li>
<li>The <a class="reference external" href="https://www.npmjs.com">npm</a> package manager</li>
<li><a class="reference external" href="http://git-scm.com/">Git</a> version control software and an account at <a class="reference external" href="http://www.github.com">GitHub.com</a></li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Stop and make sure you have all these tools installed and working properly. Otherwise, <a class="reference external" href="https://www.youtube.com/watch?v=ynxPshq8ERo">you’re gonna have a bad time</a>.</p>
</div>
<div class="section" id="command-line-prereq">
<span id="id1"></span><h3>Command-line interface<a class="headerlink" href="#command-line-prereq" title="Permalink to this headline">¶</a></h3>
<p>Unless something is wrong with your computer, there should be a way to open a window that lets you type in commands. Different operating systems give this tool slightly different names, but they all have some form of it.</p>
<p>On Windows you can find the command-line interface by opening the “command prompt.” Here are <a class="reference external" href="https://www.bleepingcomputer.com/tutorials/windows-command-prompt-introduction/">instructions</a>.</p>
<p>On Apple computers, you open the <a class="reference external" href="http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line">“Terminal” application</a>.</p>
<p>Ubuntu Linux comes with a program of the <a class="reference external" href="http://askubuntu.com/questions/38162/what-is-a-terminal-and-how-do-i-open-and-use-it">same name</a>.</p>
</div>
<div class="section" id="id2">
<h3>Text editor<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>A program like Microsoft Word, which can do all sorts of text formatting like change the size and color of words, is not what you need. Do not try to use it.</p>
<p>You need a program that works with simple <a class="reference external" href="https://en.wikipedia.org/wiki/Text_file">“plain text” files</a>, and is therefore capable of editing documents containing Python code, HTML markup and other languages without dressing them up by adding anything extra. Such programs are easy to find and some of the best ones are free, including those below.</p>
<p>For Windows, we recommend installing <a class="reference external" href="http://notepad-plus-plus.org/">Notepad++</a>.</p>
<p>For Apple computers, try <a class="reference external" href="https://atom.io">Atom</a> or <a class="reference external" href="https://www.sublimetext.com/">Sublime Text</a>.</p>
<p>In Ubuntu Linux you can stick with the pre-installed <a class="reference external" href="https://help.ubuntu.com/community/gedit">gedit</a> text editor or install a more sophisticated tool like <a class="reference external" href="https://atom.io">Atom</a></p>
</div>
<div class="section" id="id4">
<h3>Node.js<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>TK</p>
</div>
<div class="section" id="id5">
<h3>npm<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>TK</p>
</div>
<div class="section" id="git-and-github">
<h3>Git and GitHub<a class="headerlink" href="#git-and-github" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://git-scm.com/">Git</a> is a version control program for saving the changes you make to files over time. This is useful when you’re working on your own, but quickly becomes essential with large software projects when you work with other developers.</p>
<p><a class="reference external" href="https://github.com/">GitHub</a> is a website that hosts git code repositories, both public and private. It comes with many helpful tools for reviewing code and managing projects. It also has some <a class="reference external" href="http://pages.github.com/">extra tricks</a> that make it easy to publish web pages, which we will use later.</p>
<p>GitHub offers helpful guides for installing Git for <a class="reference external" href="https://help.github.com/articles/set-up-git#platform-windows">Windows</a>, <a class="reference external" href="https://help.github.com/articles/set-up-git#platform-mac">Macs</a> and <a class="reference external" href="https://help.github.com/articles/set-up-git#platform-linux">Linux</a>.</p>
<p>You can verify it’s installed from your command line like so:</p>
<p>Once that’s done, you should create an account at GitHub, if you don’t already have one. <a class="reference external" href="https://github.com/pricing">The free plan</a> is all that’s required to complete this lesson.</p>
</div>
</div>
<div class="section" id="chapter-1-hello-git">
<h2>Chapter 1: Hello Git<a class="headerlink" href="#chapter-1-hello-git" title="Permalink to this headline">¶</a></h2>
<p>Start by creating a new directory where we can store the code for our project. Name it after our application.</p>
<p>Jump into the directory it created.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> first-graphics-app
</pre></div>
</div>
<p>Create a new Git repository in the current directory.</p>
<p>Visit <a class="reference external" href="http://www.github.com">GitHub</a> and create a new public repository named <code class="docutils literal"><span class="pre">first-graphics-app</span></code>. Don’t check “Initialize with README.” You want to start with a blank repository.</p>
<p>Then connect your local directory to GitHub with the following command.</p>
<p>Create your first file, a blank <code class="docutils literal"><span class="pre">README</span></code> with a <a class="reference external" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> file extension since that’s <a class="reference external" href="https://help.github.com/articles/github-flavored-markdown">the preferred format of GitHub</a>.</p>
<p>Open up the README in your text editor and type something in it. Maybe something like:</p>
<div class="highlight-markdown"><div class="highlight"><pre><span></span>My first graphics app
=====================
</pre></div>
</div>
<p>Make sure to save it. Then officially add the file to your repository for tracking with Git’s <code class="docutils literal"><span class="pre">add</span></code> command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git add README.md
</pre></div>
</div>
<p>Log its creation with Git’s <code class="docutils literal"><span class="pre">commit</span></code> command. You can include a personalized message after the <code class="docutils literal"><span class="pre">-m</span></code> flag.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git commit -m <span class="s2">&quot;First commit&quot;</span>
</pre></div>
</div>
<p>If this is your first time using Git, you may be prompted to configure you name and email. If so, take the time now. Then run the <code class="docutils literal"><span class="pre">commit</span></code> command above again.</p>
<p>Now, finally, push your commit up to GitHub.</p>
<p>Reload your repository on GitHub and see your handiwork.</p>
</div>
<div class="section" id="chapter-2-hello-framework">
<h2>Chapter 2: Hello framework<a class="headerlink" href="#chapter-2-hello-framework" title="Permalink to this headline">¶</a></h2>
<p>Create a Code directory for your work.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">mkdir</span> <span class="pre">Code</span>
<span class="pre">`</span></code></p>
<p>Move in.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">cd</span> <span class="pre">Code</span>
<span class="pre">`</span></code></p>
<p>Create a new directory project</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">mkdir</span> <span class="pre">first-graphics-app</span>
<span class="pre">`</span></code></p>
<p>Move in.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">cd</span> <span class="pre">Code</span>
<span class="pre">`</span></code></p>
<p>Install yeoman</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">sudo</span> <span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">yo</span> <span class="pre">gulp</span>
<span class="pre">`</span></code></p>
<p>Use yeoman to install our project generator.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">sudo</span> <span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">generator-yeogurt</span>
<span class="pre">`</span></code></p>
<p>Create a new project.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">yo</span> <span class="pre">yeogurt</span>
<span class="pre">`</span></code></p>
<p>Be sure to pick “nunjucks” when creating the project.</p>
<p>Fire up the test server</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">gulp</span> <span class="pre">serve</span>
<span class="pre">`</span></code></p>
<p>Visit localhost:3000 in your browser.</p>
<p>Make an edit to index.nunjucks and see it show up on the live site.</p>
<dl class="docutils">
<dt><a href="#id8"><span class="problematic" id="id9">``</span></a><a href="#id10"><span class="problematic" id="id11">`</span></a>html</dt>
<dd>&lt;h1&gt;Welcome to First Graphics App!&lt;/h1&gt;</dd>
</dl>
<p><a href="#id12"><span class="problematic" id="id13">``</span></a><a href="#id14"><span class="problematic" id="id15">`</span></a></p>
<p>Open a second terminal and navigate to your code folder.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">cd</span> <span class="pre">Code</span>
<span class="pre">cd</span> <span class="pre">first-graphics-app</span>
<span class="pre">`</span></code></p>
<p>Commit our work.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Installed framework&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
</div>
<div class="section" id="chapter-3-hello-template">
<h2>Chapter 3: Hello template<a class="headerlink" href="#chapter-3-hello-template" title="Permalink to this headline">¶</a></h2>
<p>Create a new page for our app</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">yo</span> <span class="pre">yeogurt:page</span> <span class="pre">harvard-park-homicides</span>
<span class="pre">`</span></code></p>
<p>Navigate to localhost:3000/harvard-park-homicides/.</p>
<p>Make a change to harvard-park-homicides/index.nunjucks. See it show up.</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">{%</span> <span class="pre">block</span> <span class="pre">content</span> <span class="pre">%}</span>
<span class="pre">&lt;p&gt;Hello</span> <span class="pre">World&lt;/p&gt;</span>
<span class="pre">{%</span> <span class="pre">endblock</span> <span class="pre">%}</span>
<span class="pre">`</span></code></p>
<p>Open up _layouts/base.nunjucks and explain how the template inheritance system works.</p>
<p>Make a small change to base.nunjucks and see it come up live.</p>
<p><code class="docutils literal"><span class="pre">`nunjucks</span>
<span class="pre">Above</span> <span class="pre">content</span>
<span class="pre">{%</span> <span class="pre">block</span> <span class="pre">content</span> <span class="pre">%}{%</span> <span class="pre">endblock</span> <span class="pre">%}</span>
<span class="pre">`</span></code></p>
<p>Replace _layouts/base.nunjucks with our more polished base template.</p>
<p><a href="#id16"><span class="problematic" id="id17">``</span></a><a href="#id18"><span class="problematic" id="id19">`</span></a>nunjucks
{# Custom Configuration #}
{% block config %}</p>
<blockquote>
<div>{# Setup site’s base URL to match the “baseUrl” key within <cite>package.json</cite> #}
{# Otherwise default to relative pathing #}
{% set baseUrl = config.baseUrl or ‘./’ %}</div></blockquote>
<p>{% endblock %}</p>
<p>&lt;!doctype html&gt;
&lt;html lang=”en”&gt;
&lt;head&gt;</p>
<blockquote>
<div>&lt;meta charset=”utf-8”&gt;
&lt;meta name=”viewport” content=”width=device-width, initial-scale=1.0”&gt;
&lt;title&gt;First News App&lt;/title&gt;
&lt;link rel=”stylesheet” href=”<a class="reference external" href="https://bl.ocks.org/palewire/raw/1035cd306a2f85b362b1a20ce315b8eb/base.css">https://bl.ocks.org/palewire/raw/1035cd306a2f85b362b1a20ce315b8eb/base.css</a>”&gt;
{% block stylesheets %}{% endblock %}</div></blockquote>
<p>&lt;/head&gt;
&lt;body&gt;</p>
<blockquote>
<div><dl class="docutils">
<dt>&lt;nav&gt;</dt>
<dd><dl class="first docutils">
<dt>&lt;a href=”<a class="reference external" href="http://first-graphics-app.readthedocs.org/">http://first-graphics-app.readthedocs.org/</a>”&gt;</dt>
<dd>&lt;img src=”<a class="reference external" href="https://bl.ocks.org/palewire/raw/1035cd306a2f85b362b1a20ce315b8eb/ire-logo.png">https://bl.ocks.org/palewire/raw/1035cd306a2f85b362b1a20ce315b8eb/ire-logo.png</a>”&gt;</dd>
</dl>
<p class="last">&lt;/a&gt;</p>
</dd>
</dl>
<p>&lt;/nav&gt;
&lt;header&gt;</p>
<blockquote>
<div><p>&lt;h1&gt;{% block headline %}{% endblock %}&lt;/h1&gt;
&lt;div class=”byline”&gt;</p>
<blockquote>
<div>{% block byline %}{% endblock %}</div></blockquote>
<p>&lt;/div&gt;</p>
</div></blockquote>
<p>&lt;/header&gt;
{% block content %}{% endblock %}
&lt;script src=”{{baseUrl}}scripts/main.js”&gt;&lt;/script&gt;
{% block scripts %}{% endblock %}</p>
</div></blockquote>
<p>&lt;/body&gt;
&lt;/html&gt;
<a href="#id20"><span class="problematic" id="id21">``</span></a><a href="#id22"><span class="problematic" id="id23">`</span></a></p>
<p>Fill in a headline and see it show up.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">{%</span> <span class="pre">block</span> <span class="pre">headline</span> <span class="pre">%}My</span> <span class="pre">headline</span> <span class="pre">will</span> <span class="pre">go</span> <span class="pre">here{%</span> <span class="pre">endblock</span> <span class="pre">%}</span>
<span class="pre">`</span></code></p>
<p>Fill in a byline and see it show up.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">{%</span> <span class="pre">block</span> <span class="pre">byline</span> <span class="pre">%}By</span> <span class="pre">me{%</span> <span class="pre">endblock</span> <span class="pre">%}</span>
<span class="pre">`</span></code></p>
<p>Commit our work.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Installed framework&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
</div>
<div class="section" id="chapter-4-hello-data">
<h2>Chapter 4: Hello data<a class="headerlink" href="#chapter-4-hello-data" title="Permalink to this headline">¶</a></h2>
<p>Add the Harvard Park homicides data files to _data/harvard_park_homicides.json</p>
<p>Return to index.nunjucks and print them out on the page.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">{%</span> <span class="pre">block</span> <span class="pre">content</span> <span class="pre">%}</span>
<span class="pre">{{</span> <span class="pre">site.data.harvard_park_homicides</span> <span class="pre">}}</span>
<span class="pre">{%</span> <span class="pre">endblock</span> <span class="pre">%}</span>
<span class="pre">`</span></code></p>
<p>Loop through them and print them all.</p>
<p><a href="#id24"><span class="problematic" id="id25">``</span></a>`
{% for obj in site.data.harvard_park_homicides %}</p>
<blockquote>
<div>{{ obj }}</div></blockquote>
<p>{% endfor %}
<a href="#id26"><span class="problematic" id="id27">``</span></a><a href="#id28"><span class="problematic" id="id29">`</span></a></p>
<p>Print the last name.</p>
<p><a href="#id30"><span class="problematic" id="id31">``</span></a>`
{% for obj in site.data.harvard_park_homicides %}</p>
<blockquote>
<div>{{ obj.last_name }}</div></blockquote>
<p>{% endfor %}
<a href="#id32"><span class="problematic" id="id33">``</span></a><a href="#id34"><span class="problematic" id="id35">`</span></a></p>
<p>Add the first name</p>
<p><a href="#id36"><span class="problematic" id="id37">``</span></a>`
{% for obj in site.data.harvard_park_homicides %}</p>
<blockquote>
<div>{{ obj.first_name }} {{ obj.last_name }}</div></blockquote>
<p>{% endfor %}
<a href="#id38"><span class="problematic" id="id39">``</span></a><a href="#id40"><span class="problematic" id="id41">`</span></a></p>
<p>Commit our work.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;Installed framework&quot;</span>
</pre></div>
</div>
<p>Push it to GitHub.</p>
</div>
<div class="section" id="chapter-5-hello-table">
<h2>Chapter 5: Hello table<a class="headerlink" href="#chapter-5-hello-table" title="Permalink to this headline">¶</a></h2>
<p>TK</p>
</div>
<div class="section" id="chapter-6-hello-chart">
<h2>Chapter 6: Hello chart<a class="headerlink" href="#chapter-6-hello-chart" title="Permalink to this headline">¶</a></h2>
<p>We’ll use two JavaScript libraries to make our charts: <a class="reference external" href="https://d3js.org/">D3</a> and <a class="reference external" href="http://visible.io/">D4</a>. D4 is basicaly a layer on top of D3 to make building simple charts easier.</p>
<p>First, use npm to install the packages.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ npm install d3
$ npm install d4
</pre></div>
</div>
</div>
<div class="section" id="chapter-7-hello-map">
<h2>Chapter 7: Hello map<a class="headerlink" href="#chapter-7-hello-map" title="Permalink to this headline">¶</a></h2>
<p>Toss Leaflet into the head.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">{%</span> <span class="pre">block</span> <span class="pre">scripts</span> <span class="pre">%}</span>
<span class="pre">&lt;link</span> <span class="pre">rel=&quot;stylesheet&quot;</span> <span class="pre">href=&quot;https://unpkg.com/leaflet&#64;1.3.1/dist/leaflet.css&quot;</span> <span class="pre">/&gt;</span>
<span class="pre">&lt;script</span> <span class="pre">src=&quot;https://unpkg.com/leaflet&#64;1.3.1/dist/leaflet.js&quot;&gt;&lt;/script&gt;</span>
<span class="pre">{%</span> <span class="pre">endblock</span> <span class="pre">%}</span>
<span class="pre">`</span></code></p>
<p>Create a starter map.</p>
<p><a href="#id42"><span class="problematic" id="id43">``</span></a>`
{% block content %}
&lt;div id=”map”&gt;&lt;/div&gt;
{% endblock %}</p>
<p>{% block scripts %}
&lt;link rel=”stylesheet” href=”<a class="reference external" href="https://unpkg.com/leaflet&#64;1.3.1/dist/leaflet.css">https://unpkg.com/leaflet&#64;1.3.1/dist/leaflet.css</a>” /&gt;
&lt;script src=”<a class="reference external" href="https://unpkg.com/leaflet&#64;1.3.1/dist/leaflet.js">https://unpkg.com/leaflet&#64;1.3.1/dist/leaflet.js</a>”&gt;&lt;/script&gt;
&lt;script&gt;</p>
<blockquote>
<div><p>var map = L.map(‘map’).setView([41.890434, -87.623571], 15);
L.tileLayer(‘<a class="reference external" href="https://api.tiles.mapbox.com/v4">https://api.tiles.mapbox.com/v4</a>/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw’, {</p>
<blockquote>
<div><blockquote>
<div><p>maxZoom: 18,
attribution: ‘Map data &amp;copy; &lt;a href=”<a class="reference external" href="http://openstreetmap.org">http://openstreetmap.org</a>”&gt;OpenStreetMap&lt;/a&gt; contributors, ‘ +</p>
<blockquote>
<div>‘&lt;a href=”<a class="reference external" href="http://creativecommons.org/licenses/by-sa/2.0/">http://creativecommons.org/licenses/by-sa/2.0/</a>”&gt;CC-BY-SA&lt;/a&gt;, ‘ +
‘Imagery © &lt;a href=”<a class="reference external" href="http://mapbox.com">http://mapbox.com</a>”&gt;Mapbox&lt;/a&gt;’,</div></blockquote>
<p>id: ‘mapbox.streets’</p>
</div></blockquote>
<p>}).addTo(map);</p>
</div></blockquote>
</div></blockquote>
<p>&lt;/script&gt;
{% endblock %}
<a href="#id44"><span class="problematic" id="id45">``</span></a><a href="#id46"><span class="problematic" id="id47">`</span></a></p>
<p>Go to Google Maps and find 62nd Street and Harvard Boulevard in South LA. Hold down a click until it gives you the latitude and longitude. Paste those numbers into Leaflet’s setView method.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">var</span> <span class="pre">map</span> <span class="pre">=</span> <span class="pre">L.map('map').setView([33.983265,</span> <span class="pre">-118.306799],</span> <span class="pre">15);</span>
<span class="pre">`</span></code></p>
<p>Move in the zoom.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">var</span> <span class="pre">map</span> <span class="pre">=</span> <span class="pre">L.map('map').setView([33.983265,</span> <span class="pre">-118.306799],</span> <span class="pre">16);</span>
<span class="pre">`</span></code></p>
<p>Add a pin.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">var</span> <span class="pre">marker</span> <span class="pre">=</span> <span class="pre">L.marker([33.983265,</span> <span class="pre">-118.306799]).addTo(map);</span>
<span class="pre">`</span></code></p>
<p>Add a popup.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">marker.bindPopup(&quot;W.</span> <span class="pre">62nd</span> <span class="pre">Street</span> <span class="pre">and</span> <span class="pre">Harvard</span> <span class="pre">Boulevard&quot;).openPopup();</span>
<span class="pre">`</span></code></p>
<p>Install Leaflet-minimap</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">&lt;link</span> <span class="pre">rel=&quot;stylesheet&quot;</span> <span class="pre">href=&quot;http://norkart.github.io/Leaflet-MiniMap/Control.MiniMap.css&quot;</span> <span class="pre">/&gt;</span>
<span class="pre">&lt;script</span> <span class="pre">src=&quot;http://norkart.github.io/Leaflet-MiniMap/Control.MiniMap.js&quot;&gt;&lt;/script&gt;</span>
<span class="pre">`</span></code></p>
<p>Create a minimap in the corner</p>
<p><a href="#id48"><span class="problematic" id="id49">``</span></a>`
var osm2 = L.tileLayer(‘<a class="reference external" href="http:/">http:/</a>/{s}.tile.openstreetmap.org/{z}/{x}/{y}.png’, {</p>
<blockquote>
<div>maxZoom: 9,
attribution: ‘Map data &amp;copy; OpenStreetMap contributors’,</div></blockquote>
<p>});
var mini = new L.Control.MiniMap(osm2, { toggleDisplay: true });
mini.addTo(map);
<a href="#id50"><span class="problematic" id="id51">``</span></a><a href="#id52"><span class="problematic" id="id53">`</span></a></p>
<p>Create a point for each of the four people who have died on that corner.</p>
<p><a href="#id54"><span class="problematic" id="id55">``</span></a>`
{% for obj in site.data.harvard_park_homicides %}</p>
<blockquote>
<div><dl class="docutils">
<dt>{% if obj.death_year &gt; 2015 %}</dt>
<dd><dl class="first last docutils">
<dt>L.marker([{{ obj.latitude }},  {{ obj.longitude }}])</dt>
<dd>.addTo(map)
s.bindPopup(“{{ obj.first_name }} {{ obj.last_name }}”);</dd>
</dl>
</dd>
</dl>
<p>{% endif %}</p>
</div></blockquote>
<p>{% endfor %}
<a href="#id56"><span class="problematic" id="id57">``</span></a><a href="#id58"><span class="problematic" id="id59">`</span></a></p>
<p>Set the map zoom to that corner, and remove our first marker.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">map.setView([33.983265,</span> <span class="pre">-118.306799],</span> <span class="pre">18);</span>
<span class="pre">`</span></code></p>
<p>Add a deck headline.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">&lt;h3&gt;One</span> <span class="pre">corner.</span> <span class="pre">Four</span> <span class="pre">killings.</span> <span class="pre">&lt;/h3&gt;</span>
<span class="pre">`</span></code></p>
<p>Write a section graf.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">&lt;p&gt;The</span> <span class="pre">southwest</span> <span class="pre">corner</span> <span class="pre">of</span> <span class="pre">Harvard</span> <span class="pre">Park,</span> <span class="pre">at</span> <span class="pre">West</span> <span class="pre">62nd</span> <span class="pre">Street</span> <span class="pre">and</span> <span class="pre">Harvard</span> <span class="pre">Boulevard,</span> <span class="pre">has</span> <span class="pre">been</span> <span class="pre">especially</span> <span class="pre">deadly.</span> <span class="pre">In</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">year-and-a-half,</span> <span class="pre">four</span> <span class="pre">men</span> <span class="pre">have</span> <span class="pre">been</span> <span class="pre">killed</span> <span class="pre">there</span> <span class="pre">—</span> <span class="pre">while</span> <span class="pre">sitting</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">car,</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">defuse</span> <span class="pre">an</span> <span class="pre">argument</span> <span class="pre">or</span> <span class="pre">walking</span> <span class="pre">home</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">barber</span> <span class="pre">shop</span> <span class="pre">or</span> <span class="pre">the</span> <span class="pre">corner</span> <span class="pre">store.&lt;/p&gt;</span>
<span class="pre">`</span></code></p>
<p>Wrap it in a section tag.</p>
<p><a href="#id60"><span class="problematic" id="id61">``</span></a>`
&lt;section&gt;</p>
<blockquote>
<div>&lt;h3&gt;One corner. Four killings. &lt;/h3&gt;
&lt;p&gt;The southwest corner of Harvard Park, at West 62nd Street and Harvard Boulevard, has been especially deadly. In the last year-and-a-half, four men have been killed there — while sitting in a car, trying to defuse an argument or walking home from the barber shop or the corner store.&lt;/p&gt;
&lt;div id=”map”&gt;&lt;/div&gt;</div></blockquote>
<p>&lt;/section&gt;
<a href="#id62"><span class="problematic" id="id63">``</span></a><a href="#id64"><span class="problematic" id="id65">`</span></a></p>
</div>
<div class="section" id="chapter-8-hello-internet">
<h2>Chapter 8: Hello Internet<a class="headerlink" href="#chapter-8-hello-internet" title="Permalink to this headline">¶</a></h2>
<p>Build a static version of your site</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">gulp</span> <span class="pre">--production</span>
<span class="pre">`</span></code></p>
<p>Inspect the files in the build directory.</p>
<p>Edit package.json to build files to docs instead.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">&quot;destination&quot;:</span> <span class="pre">&quot;docs&quot;,</span>
<span class="pre">`</span></code></p>
<p>Build the static site again.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">gulp</span> <span class="pre">--production</span>
<span class="pre">`</span></code></p>
<p>Commit and push to GitHub.</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">git</span> <span class="pre">add</span> <span class="pre">package.json</span>
<span class="pre">git</span> <span class="pre">add</span> <span class="pre">docs</span>
<span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-am</span> <span class="pre">&quot;Message</span> <span class="pre">here&quot;</span>
<span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">master</span>
<span class="pre">`</span></code></p>
<p>Go to GitHub config and turn on GitHub Pages with the /docs on the master branch as the source. Hit save.</p>
<p>Visit [&lt;your_username&gt;.github.com/first-graphics-app/](<a class="reference external" href="https://ireapps.github.io/first-graphics-app/">https://ireapps.github.io/first-graphics-app/</a>).</p>
<p>Visit [&lt;your_username&gt;.github.com/first-graphics-app/harvard-park-homicides](<a class="reference external" href="https://ireapps.github.io/first-graphics-app/harvard-park-homicides/">https://ireapps.github.io/first-graphics-app/harvard-park-homicides/</a>).</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, IRE/NICAR.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>